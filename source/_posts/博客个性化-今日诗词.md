---
title: 博客个性化-今日诗词
meta:
  donate: true
  desc: 如何在博客中使用今日诗词
  title: 博客个性化-今日诗词
categories:
  - 实用教程
tag:
  - Hexo
  - 个性化
abbrlink: d67b
date: 2019-05-04 22:25:13
---

[今日诗词(https://www.jinrishici.com/)](https://www.jinrishici.com/) API 是一个可以返回一句古诗词名句的接口。它可以通过图片和 JSON 格式调用。今日诗词 API 根据不同地点、时间、节日、季节、天气、景观、城市进行智能推荐。

<!-- more -->

## 如何使用

在 HTML 中需要加载诗词的地方放置以下加载代码即可。

```
<span id="jinrishici-sentence">正在加载今日诗词...</span>
<script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
```

## 普通示例

<p><a href="#" class='random_poem'><i class="fas fa-random" id="jinrishici_update"></i></a>&nbsp;<span id="jinrishici-sentence">正在加载今日诗词...</span></p>
<script type="text/javascript">
  document.getElementById('jinrishici_update').onclick = function() {
    jinrishici.load(function(result) {
      ready(function() {
        var button = document.getElementById("jinrishici_update")
        button.className = button.className + ' disabled'
        var sentence = document.getElementById('jinrishici-sentence');
        sentence.innerText = result.data.content;
        setTimeout(function() {
          button.className = button.className.replace(' disabled','')
        }, 1000)
      })
    });
    return false;
  }
</script>
<script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>

```
<p>
  <a href="#" class='random_poem'>
    <i class="fas fa-random" id="jinrishici_update"></i>
  </a>&nbsp;
  <span id="jinrishici-sentence">正在加载今日诗词...</span>
</p>
<script type="text/javascript">
  document.getElementById('jinrishici_update').onclick = function() {
    jinrishici.load(function(result) {
      ready(function() {
        var button = document.getElementById("jinrishici_update")
        button.className = button.className + ' disabled'
        var sentence = document.getElementById('jinrishici-sentence');
        sentence.innerText = result.data.content;
        setTimeout(function() {
          button.className = button.className.replace(' disabled','')
        }, 1000)
      })
    });
    return false;
  }
</script>
<script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
```

## 高级示例

<p><a href="#" class='random_poem'><i class="fas fa-random" id="jinrishici_advance"></i></a>&nbsp;<span id="jinrishici-sentence-advance">点这里刷新</span></p>
<script type="text/javascript">
  document.getElementById('jinrishici_advance').onclick = function() {
    jinrishici.load(function(result) {
      ready(function() {
        var button = document.getElementById("jinrishici_advance")
        button.className = button.className + ' disabled'
        var sentence = document.getElementById('jinrishici-sentence-advance');
        var content = result.data.content + "\n";
        var matchTags = "";
        for (var i=0; i<result.data.matchTags.length;i++) {
            matchTags += result.data.matchTags[i] + " "
        }
        matchTags += "\n\n";
        var origin = result.data.origin.title + " " + result.data.origin.dynasty + " " + result.data.origin.author + "\n\n";
        var origin_content = "";
        for (var i=0; i<result.data.origin.content.length;i++) {
            origin_content += result.data.origin.content[i] + "\n"
        }
        sentence.innerText = content + matchTags + origin + origin_content;
        setTimeout(function() {
          button.className = button.className.replace(' disabled','')
        }, 1000)
      })
    });
    return false;
  }
</script>

```
<p>
  <a href="#" class='random_poem'>
    <i class="fas fa-random" id="jinrishici_advance"></i>
  </a>&nbsp;
  <span id="jinrishici-sentence">点这里刷新</span>
</p>
<script type="text/javascript">
  document.getElementById('jinrishici_advance').onclick = function() {
    jinrishici.load(function(result) {
      ready(function() {
        var button = document.getElementById("jinrishici_advance")
        button.className = button.className + ' disabled'
        var sentence = document.getElementById('jinrishici-sentence');
        var content = result.data.content + "\n";
        var matchTags = "";
        for (var i=0; i<result.data.matchTags.length;i++) {
            matchTags += result.data.matchTags[i] + " "
        }
        matchTags += "\n\n";
        var origin = result.data.origin.title + " ";
        origin += result.data.origin.dynasty + " ";
        origin += result.data.origin.author + "\n\n";
        var origin_content = "";
        for (var i=0; i<result.data.origin.content.length;i++) {
            origin_content += result.data.origin.content[i] + "\n"
        }
        sentence.innerText = content + matchTags + origin + origin_content;
        setTimeout(function() {
          button.className = button.className.replace(' disabled','')
        }, 1000)
      })
    });
    return false;
  }
</script>
<script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
```

高级 JSON 接口返回的正常的数据格式为：

```
{
    "status": "success",
    "data": {
        "id": "5b8b9572e116fb3714e6faba",
        "content": "君问归期未有期，巴山夜雨涨秋池。",
        "popularity": 1170000,
        "origin": {
            "title": "夜雨寄北",
            "dynasty": "唐代",
            "author": "李商隐",
            "content": [
                "君问归期未有期，巴山夜雨涨秋池。",
                "何当共剪西窗烛，却话巴山夜雨时。"
            ],
            "translate": [
                "您问归期，归期实难说准，巴山连夜暴雨，涨满秋池。",
                "何时归去，共剪西窗烛花，当面诉说，巴山夜雨况味。"
            ]
        },
        "matchTags": [
            "秋",
            "晚上"
        ],
        "recommendedReason": "",
        "cacheAt": "2018-09-17T21:18:44.693645"
    },
    "token": "6453911a-9ad7-457e-9b9d-c21011b85a0c",
    "ipAddress": "162.248.93.154"
}
```

| 返回参数名称             | 描述            |
| ---------------------- | --------------- |
| data.content           | 推荐的诗句       |
| data.matchTags         | 标签            |
| data.recommendedReason | 推荐原因         |
| data.cacheAt           | 缓存时间         |
| data.popularity        | 这句诗的流行度评价|
| data.origin            | 源诗信息         |
| data.origin.translate  | 整诗翻译         |
| token                  | 当前用户的 token |
| ipAddress              | 当前用户的 ip    |

## 致谢
感谢 [今日诗词(https://www.jinrishici.com/)](https://www.jinrishici.com/) 为我们提供的服务