<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ç£¨å½ç†ŠçŒ«</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://mojipanda.com/"/>
  <updated>2020-05-25T04:02:51.631Z</updated>
  <id>https://mojipanda.com/</id>
  
  <author>
    <name>å®‹é¢–</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Nodejs-å›¾ç‰‡å‹ç¼©åº“imagemin</title>
    <link href="https://mojipanda.com/blog/9de/"/>
    <id>https://mojipanda.com/blog/9de/</id>
    <published>2020-05-25T03:31:57.000Z</published>
    <updated>2020-05-25T04:02:51.631Z</updated>
    
    <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸ª <code>Nodejs</code> çš„å›¾ç‰‡å‹ç¼©åº“ - <code>imagemin</code></p><a id="more"></a><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p><code>imagemin</code> æœ¬èº«ä¸å…·å¤‡å›¾ç‰‡å‹ç¼©èƒ½åŠ›ï¼Œè€Œæ˜¯é€šè¿‡æ”¯æŒå¾ˆå¤šå…·æœ‰å‹ç¼©ä¸åŒç±»å‹å›¾ç‰‡çš„æ’ä»¶å®ç°å‹ç¼©ã€‚è¿™ä¸ªåº“åªé€‚åˆåœ¨æœåŠ¡ç«¯ä½¿ç”¨ï¼Œå¯ä»¥å†™æˆè„šæœ¬æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥å†™æˆæ¥å£çš„å½¢å¼ç»™å‰ç«¯è°ƒç”¨ã€‚</p><h2 id="å®‰è£…ä½¿ç”¨"><a href="#å®‰è£…ä½¿ç”¨" class="headerlink" title="å®‰è£…ä½¿ç”¨"></a>å®‰è£…ä½¿ç”¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install imagemin --save</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨æ’ä»¶åˆ—è¡¨</p><div class="note link"><p><a href="https://www.npmjs.com/package/imagemin-gifsicle" target="_blank" rel="external nofollow noopener noreferrer">Imagemin plugin for Gifsicle</a></p></div><div class="note link"><p><a href="https://www.npmjs.com/package/imagemin-svgo" target="_blank" rel="external nofollow noopener noreferrer">SVGO imagemin plugin</a></p></div><div class="note link"><p><a href="https://www.npmjs.com/package/imagemin-pngquant" target="_blank" rel="external nofollow noopener noreferrer">Imagemin plugin for pngquant</a></p></div><div class="note link"><p><a href="https://www.npmjs.com/package/imagemin-optipng" target="_blank" rel="external nofollow noopener noreferrer">Imagemin plugin for OptiPNG</a></p></div><div class="note link"><p><a href="https://www.npmjs.com/package/imagemin-webp" target="_blank" rel="external nofollow noopener noreferrer">WebP imagemin plugin</a></p></div><div class="note link"><p><a href="https://www.npmjs.com/package/imagemin-mozjpeg" target="_blank" rel="external nofollow noopener noreferrer">Imagemin plugin for mozjpeg</a></p></div><div class="note link"><p><a href="https://www.npmjs.com/package/imagemin-jpeg-recompress" target="_blank" rel="external nofollow noopener noreferrer">jpeg-recompress imagemin plugin</a></p></div><div class="note link"><p><a href="https://www.npmjs.com/package/imagemin-jpegtran" target="_blank" rel="external nofollow noopener noreferrer">jpegtran imagemin plugin</a></p></div><p>ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> imagemin = <span class="built_in">require</span>(<span class="string">'imagemin'</span>);</span><br><span class="line"><span class="keyword">const</span> imageminJpegtran = <span class="built_in">require</span>(<span class="string">'imagemin-jpegtran'</span>);</span><br><span class="line"><span class="keyword">const</span> imageminPngquant = <span class="built_in">require</span>(<span class="string">'imagemin-pngquant'</span>);</span><br><span class="line"> </span><br><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> files = <span class="keyword">await</span> imagemin([<span class="string">'images/*.&#123;jpg,png&#125;'</span>], &#123;</span><br><span class="line">        destination: <span class="string">'build/images'</span>,</span><br><span class="line">        plugins: [</span><br><span class="line">            imageminJpegtran(),</span><br><span class="line">            imageminPngquant(&#123;</span><br><span class="line">                quality: [<span class="number">0.6</span>, <span class="number">0.8</span>]</span><br><span class="line">            &#125;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;);</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">console</span>.log(files);</span><br><span class="line">    <span class="comment">//=&gt; [&#123;data: &lt;Buffer 89 50 4e â€¦&gt;, destinationPath: 'build/images/foo.jpg'&#125;, â€¦]</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå·¥å…·æ”¯æŒå¤„ç†å¤šå¼ å›¾ç‰‡ï¼Œæ—¢å¯ä»¥å°†å‹ç¼©åçš„æ–‡ä»¶è¾“å‡ºåˆ°æŒ‡å®šç›®å½•ï¼Œä¹Ÿå¯ä»¥è¿”å›å‹ç¼©åæ–‡ä»¶çš„æ•°æ®ã€‚</p><h2 id="ä½¿ç”¨å¿ƒå¾—"><a href="#ä½¿ç”¨å¿ƒå¾—" class="headerlink" title="ä½¿ç”¨å¿ƒå¾—"></a>ä½¿ç”¨å¿ƒå¾—</h2><p>åœ¨ä½¿ç”¨ <code>npm</code> å®‰è£…æ’ä»¶çš„æ—¶å€™ï¼Œå®‰è£…è¿‡ç¨‹ç‰¹åˆ«æ…¢ï¼Œä¸”æœ‰å¾ˆå¤§å‡ ç‡å‡ºç°å®‰è£…ä¸æˆåŠŸï¼Œä¸”éœ€è¦åœ¨è‡ªå·±ç”µè„‘ä¸Šç¼–è¯‘çš„æƒ…å†µï¼Œç¼–è¯‘è¿™äº›æ–‡ä»¶åˆéœ€è¦æ ¹æ®å‡ºé”™æç¤ºå®‰è£…ä¸€äº›åŸºç¡€åº“ã€‚è‡ªä»æ”¹ä¸ºé€šè¿‡ <code>cnpm</code> å®‰è£…åï¼Œå®‰è£…é€Ÿåº¦å¾ˆå¿«ï¼Œä¸”ä¸éœ€è¦å†æ¬¡ç¼–è¯‘çš„è¿‡ç¨‹ã€‚è¿™é‡Œå¼ºçƒˆæ¨èä½¿ç”¨ <code>cnpm</code> å®‰è£…ã€‚</p><p>å¯¹äºå‹ç¼©æ•ˆæœï¼Œé‚£æ˜¯éå¸¸æ˜æ˜¾ä¸”é«˜æ•ˆçš„ï¼Œè¯´çš„å†å¤šä¸å¦‚ä½“éªŒä¸€ä¸‹ï¼Œå¤§å°å‡å°‘äº†å¾ˆå¤šï¼Œè€Œç”»è´¨å´çœ‹ä¸å‡ºæ¥å¤ªå¤§å·®åˆ«ï¼Œå½“ç„¶è¿™ä¸ªå’Œè®¾ç½®ä¹Ÿæœ‰å…³ç³»ï¼Œå‹ç¼©æ¯”ä¾‹å¤ªé«˜äº†ç”»è´¨è‡ªç„¶æ˜¯ä¸è¡Œçš„ï¼Œä½¿ç”¨æ¨èè®¾ç½®å°±å¯ä»¥äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®°å½•ä¸€ä¸ª &lt;code&gt;Nodejs&lt;/code&gt; çš„å›¾ç‰‡å‹ç¼©åº“ - &lt;code&gt;imagemin&lt;/code&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://mojipanda.com/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Nodejs" scheme="https://mojipanda.com/tags/Nodejs/"/>
    
  </entry>
  
  <entry>
    <title>Vue-åŠ¨æ€æƒé™èœå•è®¾è®¡</title>
    <link href="https://mojipanda.com/blog/8390/"/>
    <id>https://mojipanda.com/blog/8390/</id>
    <published>2020-05-23T09:02:39.000Z</published>
    <updated>2020-05-23T10:19:42.725Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨è®¾è®¡å¼€å‘åå°ç®¡ç†ç³»ç»Ÿæ—¶ï¼Œå°‘ä¸äº†ä¼šé‡åˆ°ä¸åŒç”¨æˆ·è§’è‰²æ‹¥æœ‰ä¸åŒèœå•è®¿é—®æƒé™çš„éœ€æ±‚ï¼Œæœ¬æ–‡ä»‹ç» Vue çš„åŠ¨æ€è·¯ç”±å®ç°çš„åŠ¨æ€æƒé™èœå•ã€‚</p><a id="more"></a><h2 id="ä¸»è¦å®ç°"><a href="#ä¸»è¦å®ç°" class="headerlink" title="ä¸»è¦å®ç°"></a>ä¸»è¦å®ç°</h2><p>åœ¨ <code>router/index.js</code> å…ˆå†™ä¸‹æ‰€æœ‰è§’è‰²éƒ½å…±é€šçš„æ¨¡å—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  mode: <span class="string">'history'</span>,</span><br><span class="line">  base: <span class="string">'/dashboard'</span>,</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/login'</span>,</span><br><span class="line">      meta: &#123;</span><br><span class="line">        normal: <span class="literal">true</span></span><br><span class="line">      &#125;,</span><br><span class="line">      component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'@/components/Login.vue'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„è‡ªå®šä¹‰ä»£ç æ˜¯æ§åˆ¶æ˜¯å¦éœ€è¦ç™»å½•éªŒè¯çš„ï¼ŒåŠ ä¸Šè¿™ä¸ªå°±ä¸éœ€è¦ç™»å½•éªŒè¯ï¼Œç›®çš„æ˜¯æä¾›ä¸€äº›å•é¡µé¢çš„ä¸éœ€è¦ç™»å½•çš„è®¿é—®ï¼Œåœ¨ <code>main.js</code> é‡Œä¼šç”¨åˆ°åˆ¤æ–­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">meta: &#123;</span><br><span class="line">  normal: <span class="literal">true</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>åœ¨ <code>router/components.js</code> é‡Œå®šä¹‰å‡ºæ‰€æœ‰çš„åŠ¨æ€è·¯ç”±</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Home = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'@/components/Home.vue'</span>);</span><br><span class="line"><span class="keyword">const</span> Blank = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'@/components/menu/Blank.vue'</span>);</span><br><span class="line"><span class="keyword">const</span> Profile = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'@/components/menu/Profile.vue'</span>);</span><br><span class="line"><span class="keyword">const</span> UserList = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'@/components/menu/UserList.vue'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    Home,</span><br><span class="line">    Blank,</span><br><span class="line">    Profile,</span><br><span class="line">    UserList,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>main.js</code> å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"><span class="keyword">import</span> VueAxios <span class="keyword">from</span> <span class="string">'vue-axios'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store'</span>;</span><br><span class="line"><span class="keyword">import</span> consts <span class="keyword">from</span> <span class="string">'./consts'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> routemap <span class="keyword">from</span> <span class="string">'./router/components'</span></span><br><span class="line"><span class="keyword">const</span> genRoutes = <span class="function"><span class="keyword">function</span> (<span class="params">menus, routes</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!routes) &#123;</span><br><span class="line">    routes = &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      component: routemap[<span class="string">'Home'</span>],</span><br><span class="line">      children: [</span><br><span class="line">        &#123;</span><br><span class="line">          path: <span class="string">""</span>,</span><br><span class="line">          component: routemap[<span class="string">'Blank'</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (menus.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    menus.forEach(<span class="function"><span class="params">menu</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (menu.component) &#123;</span><br><span class="line">        menu.component = routemap[menu.component];</span><br><span class="line">        routes.children.push(&#123;</span><br><span class="line">          path: menu.path,</span><br><span class="line">          component: menu.component,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (menu.children &amp;&amp; menu.children.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        genRoutes(menu.children, routes);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> routes;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fromApi = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">axios.defaults.baseURL = consts.Api.BASE_URL;</span><br><span class="line">Vue.use(VueAxios, axios)</span><br><span class="line">Vue.prototype.Global = consts</span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (to.matched.some(<span class="function"><span class="params">data</span> =&gt;</span> data.meta.normal)) &#123;</span><br><span class="line">    next();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (store.getters.isLogin &amp;&amp; fromApi) &#123;</span><br><span class="line">    fromApi = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">let</span> menus = [</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">'profile'</span>,</span><br><span class="line">        component: <span class="string">'Profile'</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    ];</span><br><span class="line">    <span class="keyword">if</span> (localStorage.getItem(<span class="string">"store"</span>)) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> storeInfo = <span class="built_in">JSON</span>.parse(localStorage.getItem(<span class="string">"store"</span>));</span><br><span class="line">        <span class="keyword">let</span> menu = <span class="built_in">JSON</span>.parse(storeInfo.userInfo.menu);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; menu.length &amp;&amp; i &lt; consts.Menu.ALL.length; i++) &#123;</span><br><span class="line">          <span class="keyword">if</span> (menu[i] === <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> info = &#123;</span><br><span class="line">              path: consts.Menu.ALL[i].url,</span><br><span class="line">              component: consts.Menu.ALL[i].component</span><br><span class="line">            &#125;</span><br><span class="line">            menus.push(info);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> routes = genRoutes(menus);</span><br><span class="line">    <span class="keyword">const</span> notfound = &#123;</span><br><span class="line">      path: <span class="string">"*"</span>,</span><br><span class="line">      redirect: <span class="string">'/'</span></span><br><span class="line">    &#125;</span><br><span class="line">    router.addRoutes([routes, notfound]);</span><br><span class="line">    router.push(&#123;</span><br><span class="line">      path: to.path</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!store.getters.isLogin) &#123;</span><br><span class="line">    next(&#123;</span><br><span class="line">      path: <span class="string">'/login'</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    next();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  store,</span><br><span class="line">  router,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App),</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯åœ¨è·¯ç”±è®¿é—®å‰çš„å¤„ç†ï¼Œå¯ä»¥çœ‹åˆ° <code>data.meta.normal</code> æ§åˆ¶äº†æ˜¯å¦éœ€è¦ç™»å½•ã€‚ä¸‹é¢æ³¨é‡Šäº†ä¸€æ®µè·å–èœå•çš„éƒ¨åˆ†ã€‚è¿™é‡Œæœ‰ä¸‰ç§æ€è·¯ï¼š</p><ul><li>ä¸€æ˜¯ä¸åŒè§’è‰²å¯¹åº”çš„èœå•å®šä¹‰åœ¨å‰ç«¯ï¼Œè¿™é‡Œæ ¹æ®è§’è‰²è·å–</li><li>äºŒæ˜¯è¿™äº›åŠ¨æ€æƒé™å®šä¹‰åœ¨æœåŠ¡ç«¯ï¼Œé€šè¿‡æ¥å£è®¿é—®è·å–</li><li>ä¸‰æ˜¯å‰ç«¯å®šä¹‰å‡ºæ‰€æœ‰æƒé™æ•°ç»„ï¼ŒæœåŠ¡ç«¯è¿”å›è§’è‰²æƒé™ä¸‹æ ‡ï¼Œç»“åˆè·å–</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (to.matched.some(<span class="function"><span class="params">data</span> =&gt;</span> data.meta.normal)) &#123;</span><br><span class="line">    next();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (store.getters.isLogin &amp;&amp; fromApi) &#123;</span><br><span class="line">    fromApi = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">let</span> menus = [</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">'profile'</span>,</span><br><span class="line">        component: <span class="string">'Profile'</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    ];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è·å–èœå•</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> routes = genRoutes(menus);</span><br><span class="line">    <span class="keyword">const</span> notfound = &#123;</span><br><span class="line">      path: <span class="string">"*"</span>,</span><br><span class="line">      redirect: <span class="string">'/'</span></span><br><span class="line">    &#125;</span><br><span class="line">    router.addRoutes([routes, notfound]);</span><br><span class="line">    router.push(&#123;</span><br><span class="line">      path: to.path</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!store.getters.isLogin) &#123;</span><br><span class="line">    next(&#123;</span><br><span class="line">      path: <span class="string">'/login'</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    next();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æœåŠ¡ç«¯è®¾è®¡çš„èœå•ç»“æ„ï¼Œæ¯”å¦‚å‰ç«¯å®šä¹‰å¥½æƒé™æ•°ç»„å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Menu = &#123;</span><br><span class="line">    ALL: [</span><br><span class="line">        &#123;</span><br><span class="line">            id: <span class="number">1</span>,</span><br><span class="line">            name: <span class="string">'ç”¨æˆ·ç®¡ç†'</span>,</span><br><span class="line">            url: <span class="string">'userlist'</span>,</span><br><span class="line">            component: <span class="string">'UserList'</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            id: <span class="number">2</span>,</span><br><span class="line">            name: <span class="string">'ç”¨æˆ·ç®¡ç†2'</span>,</span><br><span class="line">            url: <span class="string">'userlist2'</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            id: <span class="number">3</span>,</span><br><span class="line">            name: <span class="string">'ç”¨æˆ·ç®¡ç†3'</span>,</span><br><span class="line">            url: <span class="string">'#'</span>,</span><br><span class="line">            child: [</span><br><span class="line">                &#123;</span><br><span class="line">                    id: <span class="number">301</span>,</span><br><span class="line">                    name: <span class="string">'ç”¨æˆ·ç®¡ç†301'</span>,</span><br><span class="line">                    url: <span class="string">'userlist301'</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    id: <span class="number">302</span>,</span><br><span class="line">                    name: <span class="string">'ç”¨æˆ·ç®¡ç†302'</span>,</span><br><span class="line">                    url: <span class="string">'userlist302'</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Menu</span><br></pre></td></tr></table></figure><p>æœåŠ¡ç«¯è¿”å›çš„ç»“æ„å¯ä»¥ä¸º <code>[1,0,1]</code> æˆ–æ˜¯ <code>[1,0,[1,0]]</code> è¿™æ ·çš„æƒé™è¡¨ç¤ºã€‚<code>1</code> è¡¨ç¤ºæœ‰æƒé™ï¼Œ<code>0</code> è¡¨ç¤ºæ²¡æœ‰æƒé™ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥è¿”å›æ•°ç»„ä¸‹æ ‡æˆ–è€…æ˜¯èœå•idç­‰æ–¹å¼éƒ½å¯ä»¥ã€‚å¦‚ <code>[0,2]</code> <code>[0,[0]]</code> ä¸å»ºè®®æƒé™åµŒå¥—å¤ªæ·±ï¼Œå³ä½¿è®¾è®¡è€…èƒ½æ‰¾åˆ°å¯¹åº”èœå•ï¼Œä½¿ç”¨è€…æ‰¾èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒå›°éš¾çš„ã€‚</p><p>ä¸‹é¢æ˜¯æ ¹æ®èœå•è·å–è·¯ç”±çš„å®ç°æ–¹æ³•ï¼ŒæŠŠä¸€äº›é€šç”¨çš„éƒ¨åˆ†å®šä¹‰åœ¨å¼€å¤´ï¼Œåé¢æ ¹æ®èœå•åŠ¨æ€æ‹¼æ¥ã€‚éœ€è¦æ³¨æ„ 404 é¡µé¢è¦æ”¾åœ¨æ‰€æœ‰è·¯ç”±ä¹‹åï¼Œè§ä¸Šé¢ <code>notfound</code> çš„éƒ¨åˆ†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> genRoutes = <span class="function"><span class="keyword">function</span> (<span class="params">menus, routes</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!routes) &#123;</span><br><span class="line">    routes = &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      component: routemap[<span class="string">'Home'</span>],</span><br><span class="line">      children: [</span><br><span class="line">        &#123;</span><br><span class="line">          path: <span class="string">""</span>,</span><br><span class="line">          component: routemap[<span class="string">'Blank'</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (menus.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    menus.forEach(<span class="function"><span class="params">menu</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (menu.component) &#123;</span><br><span class="line">        menu.component = routemap[menu.component];</span><br><span class="line">        routes.children.push(&#123;</span><br><span class="line">          path: menu.path,</span><br><span class="line">          component: menu.component,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (menu.children &amp;&amp; menu.children.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        genRoutes(menu.children, routes);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> routes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h2><p>ä»…ä»…é€šè¿‡å‰ç«¯æ§åˆ¶èœå•æƒé™è‚¯å®šæ˜¯ä¸å¤Ÿçš„ï¼ŒæœåŠ¡ç«¯æ¥å£ä¹Ÿéœ€è¦è®¾ç½®è§’è‰²æƒé™ï¼Œæ§åˆ¶æŸäº›æ¥å£åªå…è®¸æŸäº›è§’è‰²è®¿é—®ã€‚æ¯”å¦‚åªæœ‰ç®¡ç†å‘˜å¯ä»¥æ·»åŠ ç”¨æˆ·ï¼Œè¿™æ ·å³ä½¿å…¶ä»–è§’è‰²é€šè¿‡æŸäº›æ–¹æ³•è·å–åˆ°äº†èœå•æƒé™ï¼Œå› ä¸ºä¸å…·å¤‡æ·»åŠ ç”¨æˆ·æ¥å£è®¿é—®æƒé™ï¼Œä¾ç„¶æ— æ³•ä½¿ç”¨ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨è®¾è®¡å¼€å‘åå°ç®¡ç†ç³»ç»Ÿæ—¶ï¼Œå°‘ä¸äº†ä¼šé‡åˆ°ä¸åŒç”¨æˆ·è§’è‰²æ‹¥æœ‰ä¸åŒèœå•è®¿é—®æƒé™çš„éœ€æ±‚ï¼Œæœ¬æ–‡ä»‹ç» Vue çš„åŠ¨æ€è·¯ç”±å®ç°çš„åŠ¨æ€æƒé™èœå•ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://mojipanda.com/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Vue" scheme="https://mojipanda.com/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Vue-åˆ·æ–°å½“å‰é¡µé¢</title>
    <link href="https://mojipanda.com/blog/1506/"/>
    <id>https://mojipanda.com/blog/1506/</id>
    <published>2020-05-23T02:50:59.000Z</published>
    <updated>2020-05-23T03:36:15.745Z</updated>
    
    <content type="html"><![CDATA[<p>å‰ç«¯é¡µé¢åœ¨ç”¨æˆ·æ‰§è¡ŒæŸä¸ªåŠ¨ä½œä¹‹åï¼Œå¯èƒ½æ›´æ–°äº†äº›æ•°æ®æˆ–è€…çŠ¶æ€ï¼Œæ­¤æ—¶å°±éœ€è¦é‡æ–°åˆ·æ–°é¡µé¢æ¥æ¸²æŸ“å‡ºæœ€æ–°ç»“æœã€‚</p><a id="more"></a><h2 id="æ¨èå†™æ³•"><a href="#æ¨èå†™æ³•" class="headerlink" title="æ¨èå†™æ³•"></a>æ¨èå†™æ³•</h2><p>è¿™ç§æ–¹å¼ç”¨äºæ‰§è¡ŒæŸä¸ªåŠ¨ä½œä¹‹ååˆ·æ–°å½“å‰é¡µé¢ï¼Œå¹¶ä¸”é¡µé¢ä¸ä¼šæœ‰ä¸€é—ªçš„ä¸å¥½ä½“éªŒã€‚</p><p>é¦–å…ˆï¼Œåœ¨æ–‡ä»¶ <code>App.vue</code> å†™ä¸Šå¦‚ä¸‹ä»£ç ã€‚é€šè¿‡æ§åˆ¶ <code>router-view</code> çš„æ˜¾ç¤ºæˆ–éšè—ï¼Œè¾¾åˆ°æ§åˆ¶é¡µé¢å†æ¬¡åŠ è½½çš„ç›®çš„ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;router-view v-if&#x3D;&quot;isRouterAlive&quot; &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  provide() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      reload: this.reload</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      isRouterAlive: true</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    reload() &#123;</span><br><span class="line">      this.isRouterAlive &#x3D; false;</span><br><span class="line">      this.$nextTick(function() &#123;</span><br><span class="line">        this.isRouterAlive &#x3D; true;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>åœ¨éœ€è¦åˆ·æ–°çš„é¡µé¢ï¼Œå…ˆæ³¨å…¥ <code>reload</code> ä¾èµ–</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  inject: [&quot;reload&quot;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>åœ¨æ‰§è¡Œæ“ä½œçš„åŠ¨ä½œé‡Œç›´æ¥è°ƒç”¨ <code>this.reload();</code> å³å¯åˆ·æ–°å½“å‰é¡µé¢ã€‚</p><h2 id="å…¶ä»–å†™æ³•"><a href="#å…¶ä»–å†™æ³•" class="headerlink" title="å…¶ä»–å†™æ³•"></a>å…¶ä»–å†™æ³•</h2><p>ä¸‹é¢æ˜¯åˆ·æ–°é¡µé¢çš„å…¶ä»–å†™æ³•ï¼Œå¼ºåˆ¶åˆ·æ–°é¡µé¢ï¼Œä¼šæœ‰çŸ­æš‚çš„é—ªçƒã€‚å­˜å‚¨åœ¨ <code>store</code> çš„æ•°æ®ä¼šä¸¢å¤±ï¼Œéœ€è¦æ³¨æ„å¤„ç†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location.reload();</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$router.go(0);</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨å¿ƒå¾—"><a href="#ä½¿ç”¨å¿ƒå¾—" class="headerlink" title="ä½¿ç”¨å¿ƒå¾—"></a>ä½¿ç”¨å¿ƒå¾—</h2><p>æˆ‘åœ¨å†™ç™»å½•è·³è½¬ï¼Œå¹¶ä¸”éœ€è¦åˆ·æ–°è·³è½¬é¡µçš„æ—¶å€™ï¼Œä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•å¹¶æ²¡æœ‰è¾¾åˆ°æˆ‘æƒ³è¦çš„æ•ˆæœï¼Œä¸æ˜¯æ²¡æœ‰è·³è½¬è¿‡å»å°±æ˜¯è·³è½¬ä¹‹åé¡µé¢æ²¡æœ‰åˆ·æ–°ã€‚ç„¶åæ‰¾åˆ°äº†ä¸‹é¢çš„å†™æ³•è§£å†³äº†æˆ‘çš„é—®é¢˜ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.open(&quot;&#x2F;dashboard&quot;, &quot;_self&quot;);</span><br></pre></td></tr></table></figure><p>ç™»å½•ä¹‹åæ•°æ®ä¼šå­˜å‚¨åˆ° <code>localStorage</code> ä¸­ï¼Œè¿™ä¸ªè·³è½¬ï¼Œç›¸å½“äºå…³é—­äº†ç™»å½•é¡µç›´æ¥åœ¨æœ¬é¡µæ‰“å¼€æ–°è·³è½¬é¡µã€‚åœ¨ <code>App.vue</code> çš„ <code>created</code> æ–¹æ³•é‡Œä¼šä» <code>localStorage</code> é‡æ–°åŠ è½½æ•°æ®ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    if (localStorage.getItem(&quot;store&quot;)) &#123;</span><br><span class="line">      this.$store.replaceState(</span><br><span class="line">        Object.assign(</span><br><span class="line">          &#123;&#125;,</span><br><span class="line">          this.$store.state,</span><br><span class="line">          JSON.parse(localStorage.getItem(&quot;store&quot;))</span><br><span class="line">        )</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">    window.addEventListener(&quot;beforeunload&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">      localStorage.setItem(&quot;store&quot;, JSON.stringify(this.$store.state));</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å‰ç«¯é¡µé¢åœ¨ç”¨æˆ·æ‰§è¡ŒæŸä¸ªåŠ¨ä½œä¹‹åï¼Œå¯èƒ½æ›´æ–°äº†äº›æ•°æ®æˆ–è€…çŠ¶æ€ï¼Œæ­¤æ—¶å°±éœ€è¦é‡æ–°åˆ·æ–°é¡µé¢æ¥æ¸²æŸ“å‡ºæœ€æ–°ç»“æœã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://mojipanda.com/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Vue" scheme="https://mojipanda.com/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚æœAï¼Œé‚£ä¹ˆB</title>
    <link href="https://mojipanda.com/blog/cee/"/>
    <id>https://mojipanda.com/blog/cee/</id>
    <published>2020-05-22T14:25:56.000Z</published>
    <updated>2020-05-22T14:29:13.747Z</updated>
    
    <content type="html"><![CDATA[<p>å¦‚æœAé‚£ä¹ˆBï¼Œæœ¬èº«å¾ˆç®€å•çš„ä¸€ä¸ªå¥å­ï¼ŒæŒ‰ç…§é€»è¾‘æ¨ç†çš„åˆ†ç±»ï¼Œè¯¥å±äºå……åˆ†æ¡ä»¶çš„å¥å­ï¼Œåªæ˜¯ï¼Œå®è·µèµ·æ¥ï¼Œä¸ä¸€å®šé‚£ä¹ˆé¡ºç•…äº†ï½</p><a id="more"></a><p>æ—¢ç„¶æ˜¯å……åˆ†æ¡ä»¶ï¼Œå¹¶ä¸æ˜¯åè€…æˆè´¥çš„å…³é”®ï¼Œä½†å¾€å¾€ç”Ÿæ´»ä¸­å¾ˆå¤šæ—¶å€™ï¼Œè¿™ä¸ªå……åˆ†æ¡ä»¶æ²¡èƒ½æˆç«‹ï¼Œå³ä¾¿åè€…æˆç«‹äº†ï¼Œå¤šå¤šå°‘å°‘ï¼Œæ„Ÿè§‰å°‘äº†ç‚¹å•¥ï¼Œå› ä¸ºï¼Œæœ‰æ—¶å€™ï¼Œä½ çš„å…³æ³¨ç‚¹æ›´åœ¨äºå‰é¢çš„å……åˆ†æ¡ä»¶ï¼Œåä¹‰ä¸Šæ˜¯å……åˆ†æ¡ä»¶å¥ï¼Œå®é™…æƒ³è¦æˆç«‹çš„æ˜¯Aï½</p><p>æ¯”å¦‚è¯´ï¼Œå¦‚æœæ”¶å…¥å¢é•¿äº†ï¼Œé‚£ä¹ˆï¼Œæˆ‘å°±ä¹°ä»¶æ¼‚äº®çš„è£™å­ï½çœ‹èµ·æ¥æ˜¯ä¸ªå……åˆ†æ¡ä»¶çš„è®ºè¿°ï¼Œå®é™…ä¸Šï¼Œæ”¶å…¥å³ä¾¿ä¸å¢é•¿ï¼Œä½ ä¸€å®šä¸ä¹°æ–°è£™å­ä¹ˆï¼Ÿä¸ä¼šçš„ï¼Œè¿˜æ˜¯ä¼šï¼Œåªæ˜¯ç•¥ç•¥å°‘äº†ç‚¹å•¥è€Œå·²ï¼Œè¯´è¿™å¥è¯çš„åŒæ—¶ï¼Œå…¶å®æ›´æƒ³ä¾§é‡çš„æ˜¯å‰è€…ğŸ˜‚ï½</p><p>ä¸çŸ¥é“æœ‰æ²¡æœ‰æ³¨æ„è¿‡ï¼Œæœ‰æ—¶å€™å¦‚æœAé‚£ä¹ˆBï¼Œå¾ˆå¤šæ—¶å€™ï¼ŒAå°±å¾ˆä¸ç»™é¢å­ï¼Œåè€Œå‡ºæ¥äº†Cï¼Œå½“ç„¶ï¼ŒCä¹Ÿæ˜¯ä½ æ‰€æœŸç›¼çš„ï¼Œæ­£æ˜¯æœ‰å¿ƒæ ½èŠ±èŠ±ä¸å¼€ï¼Œæ— å¿ƒæ’æŸ³æŸ³æˆè«ï½</p><p>æ¯”å¦‚è¯´ï¼Œæœ€è¿‘ä¸€ç›´æƒ³ç€æ¢è·¯çº¿ï¼Œè™½è¯´ä¸Šç­çš„è·¯çº¿æœ¬èº«æŒºç®€å•çš„ï¼Œæ— å¥ˆäºå…¬äº¤æ°¸è¿œæ˜¯å µåœ¨è·¯ä¸Šçš„ï¼Œå½“é‡åˆ°åŒä¸€ä¸ªåœ°æ®µæ•´æ•´å µäº†ä¸€ä¸ªå°æ—¶æ—¶ï¼Œå¿ƒç´¯äº†ï½ä¸è¦è¯´å¼€è½¦å§ï¼Œè·¯ä¸Šè·‘çš„å¤§è½¦éƒ½èº²ä¸äº†å µè½¦çš„å°´å°¬ï½ç”µåŠ¨è½¦åº”è¯¥æ˜¯ä¸å µçš„ï¼Œæ— å¥ˆä¸å¤ªæ•¢éª‘ï¼Œä¹Ÿåªèƒ½æ”¾å¼ƒï½æ€æ¥æƒ³å»ï¼Œå°å•è½¦å¯è¡Œï¼Œåˆšå¥½å¯ä»¥å‡è‚¥äº†ï½åœ¨å¨ƒä»–çˆ¸çš„å¼•è·¯ä¹‹ä¸‹ï¼Œæ‰¾åˆ°äº†ä¸€æ¡ç•…é€šçš„è·¯çº¿ï¼Œåˆšå¥½ä¹Ÿç»•è¿‡äº†å µè½¦åœ°æ®µï¼Œå¯ä»¥é¡ºåˆ©æ­è½¦ï½</p><p>è·¯çº¿æ˜¯ç¡®å®šäº†ï¼Œä½†æ˜¯ä¸€ç›´åœ¨æƒ³ç€å¦å¤–ä¸€æ¡è·¯çº¿ï¼Œè¿‘ä¸å°‘ï¼Œæƒ³ç€ï¼Œå¦‚æœèµ°è¿™æ¡è¿‘è·¯ï¼Œé‚£ä¹ˆåº”è¯¥ä¼šæ›´å¿«çš„åˆ°è¾¾ï½åˆšå¥½ï¼Œè¿™å¤©ï¼Œå°åŒºé—¨å£æ²¡æœ‰å°å•è½¦ï¼Œäºæ˜¯æ­è½¦åˆ°äº†åœ°é“ç«™ï¼Œå¼€å§‹å°è¯•ï½ä½†æ˜¯å¾ˆå¿«ï¼Œå°±è§è¯†åˆ°äº†å¼Šç«¯ï¼Œè½¦æµå¤ªå¤šï¼Œäººæµé‡å¤ªå¤§ï¼Œçº¢ç»¿ç¯ä¹Ÿå¤šï¼Œè¿™æ¡è·¯çº¿åˆšå¥½æ˜¯å µè½¦çš„ä¸€ä¸ªé‡è¦åœ°æ®µï¼Œæ²¡æ³•ç•…å¿«çš„éª‘è¡Œï¼Œåªèƒ½å…œå…œè½¬è½¬ï¼Œäº¤å‰è·¯å£è¿˜è¦åœä¸‹æ¥é—®ä¸ªè·¯ï½èµ°èµ°åœåœï¼Œæ€»ç®—é€šè¿‡äº†å µè½¦åœ°æ®µï¼Œèµ¶ä¸Šäº†å…¬äº¤è½¦ï½æˆ–è®¸æ˜¯å¤ªå¿˜ç¥äº†ï¼Œä¸€ä¸å°å¿ƒï¼Œåè¿‡äº†ç«™å°ï¼Œå…œå…œè½¬è½¬ï¼Œä¸‹äº†è½¦ï¼Œå¥½åœ¨è¿‡çš„ç«™ä¸å¤šï½èµ°åˆ°é©¬è·¯å¯¹é¢ï¼Œçªç„¶å‘ç°ï¼Œè¿˜æœ‰å…¬å…±è‡ªè¡Œè½¦ï¼Œç•¥æƒŠå–œï¼Œä¸€ç›´æƒ³ç€é™„è¿‘å“ªé‡Œæœ‰è½¦ï¼Œå¯ä»¥æ— ç¼å¯¹æ¥ä¸Šå­¦æ ¡é—¨å£çš„å…¬å…±è‡ªè¡Œè½¦ï¼Œè¿™ä¼šå¯ä»¥å¦‚æ„¿äº†ï½äºæ˜¯ï¼Œå¿«é€Ÿå–è½¦ï¼Œè·¨ä¸Šï¼Œå¥”å¾€å­¦æ ¡ï½</p><p>æ²¡æœ‰å®ç°â€œå¦‚æœè¿‘ä¸€ç‚¹ï¼Œæˆ‘å°±å¯ä»¥æ›´å¿«çš„åˆ°è¾¾ç›®çš„åœ°ï½â€å€’æ˜¯ï¼Œæ— æ„ä¸­ï¼Œåè¿‡äº†ç«™ï¼Œå‘ç°äº†æ— ç¼å¯¹æ¥çš„å…¬å…±è‡ªè¡Œè½¦ğŸ˜‚</p><p>æ‰€ä»¥ï¼Œç”Ÿæ´»å°±æ˜¯è¿™æ ·ï¼Œæ²¡æœ‰åº”è¯¥æ€ä¹ˆæ ·ï¼Œåªæœ‰å°±æ˜¯è¿™æ ·ï½</p><p>å¦‚æœAé‚£ä¹ˆBï¼Œåªèƒ½æ˜¯ä¸€ç§å‡è®¾ï¼Œå‡è®¾å°±å­˜åœ¨ä¸ç¡®å®šæ€§ï¼Œå°±å­˜åœ¨å„ç§çŠ¶å†µï¼Œæ‰€ä»¥ï¼Œæ²¡æœ‰å¦‚æœï¼Œåªæœ‰è¿™æ ·ï½</p><p>æƒ³åˆ°äº†ï¼Œå°±å¾€å‰å†²ï½</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¦‚æœAé‚£ä¹ˆBï¼Œæœ¬èº«å¾ˆç®€å•çš„ä¸€ä¸ªå¥å­ï¼ŒæŒ‰ç…§é€»è¾‘æ¨ç†çš„åˆ†ç±»ï¼Œè¯¥å±äºå……åˆ†æ¡ä»¶çš„å¥å­ï¼Œåªæ˜¯ï¼Œå®è·µèµ·æ¥ï¼Œä¸ä¸€å®šé‚£ä¹ˆé¡ºç•…äº†ï½&lt;/p&gt;
    
    </summary>
    
    
      <category term="å¿ƒæƒ…ç‰©è¯­" scheme="https://mojipanda.com/categories/%E5%BF%83%E6%83%85%E7%89%A9%E8%AF%AD/"/>
    
    
      <category term="å¿ƒæƒ…" scheme="https://mojipanda.com/tags/%E5%BF%83%E6%83%85/"/>
    
  </entry>
  
  <entry>
    <title>Vue-ä½¿ç”¨axioså‘èµ·httpè¯·æ±‚</title>
    <link href="https://mojipanda.com/blog/9643/"/>
    <id>https://mojipanda.com/blog/9643/</id>
    <published>2020-05-22T02:24:25.000Z</published>
    <updated>2020-05-22T03:02:45.293Z</updated>
    
    <content type="html"><![CDATA[<p>æœåŠ¡ç«¯æä¾›å¥½æ¥å£ï¼Œå‰ç«¯éœ€è¦å‘èµ· http è¯·æ±‚è°ƒç”¨æœåŠ¡ç«¯æ¥å£ã€‚æœ¬æ–‡ä»‹ç»åœ¨ Vue ä¸­å¦‚ä½•ä½¿ç”¨ axios å‘èµ· http è¯·æ±‚æ¥è°ƒç”¨æœåŠ¡ç«¯æ¥å£ã€‚</p><a id="more"></a><h2 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h2><p>å…ˆå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install axios --save</span><br><span class="line">npm install vue-axios --save</span><br></pre></td></tr></table></figure><p>åœ¨ <code>main.js</code> ä¸­å¼•å…¥ axios</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">import VueAxios from &#39;vue-axios&#39;</span><br><span class="line"></span><br><span class="line">Vue.use(VueAxios, axios)</span><br></pre></td></tr></table></figure><p>åœ¨ <code>component</code> æ–‡ä»¶ä¸­å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼å‘èµ· <code>GET</code> è¯·æ±‚ï¼Œ<code>POST</code> è¯·æ±‚å°† <code>get</code> æ”¹æˆ <code>post</code> å³å¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Vue.axios.get(api).then((response) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(response.data)</span><br><span class="line">&#125;).catch((error) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(error);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">this.axios.get(api).then((response) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(response.data)</span><br><span class="line">&#125;).catch((error) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(error);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">this.$http.get(api).then((response) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(response.data)</span><br><span class="line">&#125;).catch((error) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="æˆ‘çš„å†™æ³•"><a href="#æˆ‘çš„å†™æ³•" class="headerlink" title="æˆ‘çš„å†™æ³•"></a>æˆ‘çš„å†™æ³•</h2><p>é¦–å…ˆåœ¨ <code>consts/api.js</code>é‡Œå®šä¹‰å¥½æ¥å£åç§°åœ°å€å¸¸é‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const Api &#x3D; &#123;</span><br><span class="line">    BASE_URL: &#39;http:&#x2F;&#x2F;localhost:3000&#39;,</span><br><span class="line">    USER_LIST: &#39;&#x2F;user&#x2F;list&#39;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Api</span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨ <code>main.js</code> é‡Œé…ç½®å¥½å…¨å±€ <code>baseURL</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.baseURL &#x3D; consts.Api.BASE_URL;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>common/user.js</code> é‡Œå°è£…å¥½è°ƒç”¨æ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">import Consts from &#39;..&#x2F;consts&#39;</span><br><span class="line"></span><br><span class="line">const User &#x3D; &#123;</span><br><span class="line">    async list(params) &#123;</span><br><span class="line">        let res &#x3D; await axios.post(Consts.Api.USER_LIST, params);</span><br><span class="line">        return res.data;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default User</span><br></pre></td></tr></table></figure><p>åœ¨ <code>component</code> é‡Œå…ˆå¼•å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import UserApi from &quot;..&#x2F;..&#x2F;common&#x2F;user&quot;;</span><br></pre></td></tr></table></figure><p>ç›´æ¥è°ƒç”¨å°±å¯ä»¥äº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let res &#x3D; await UserApi.list(&#123;&#125;);</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨å¿ƒå¾—"><a href="#ä½¿ç”¨å¿ƒå¾—" class="headerlink" title="ä½¿ç”¨å¿ƒå¾—"></a>ä½¿ç”¨å¿ƒå¾—</h2><p>è¿™é‡Œå…ˆè®°å½•ä¸€ä¸‹ Vue è°ƒç”¨æœåŠ¡ç«¯æ¥å£çš„æ–¹å¼ï¼Œå…³äº <code>axios</code> çš„é«˜é˜¶ä½¿ç”¨è¿˜æ˜¯è¦çœ‹çœ‹å®˜æ–¹æ–‡æ¡£çš„ã€‚ç›®å‰çš„å†™æ³•ä¹Ÿå¤ŸåŸºæœ¬ä½¿ç”¨äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœåŠ¡ç«¯æä¾›å¥½æ¥å£ï¼Œå‰ç«¯éœ€è¦å‘èµ· http è¯·æ±‚è°ƒç”¨æœåŠ¡ç«¯æ¥å£ã€‚æœ¬æ–‡ä»‹ç»åœ¨ Vue ä¸­å¦‚ä½•ä½¿ç”¨ axios å‘èµ· http è¯·æ±‚æ¥è°ƒç”¨æœåŠ¡ç«¯æ¥å£ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://mojipanda.com/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Vue" scheme="https://mojipanda.com/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>å­Ÿæ¯ä¸‰è¿éƒ½æ˜¯ä¸ºäº†å¨ƒ</title>
    <link href="https://mojipanda.com/blog/73d4/"/>
    <id>https://mojipanda.com/blog/73d4/</id>
    <published>2020-05-21T02:03:31.000Z</published>
    <updated>2020-05-21T02:06:46.037Z</updated>
    
    <content type="html"><![CDATA[<p>å¨ƒå¿«ä¸¤å²äº†ï¼Œæ„å‘³ç€å¿«è¦å¼€å§‹ä»–çš„æ±‚å­¦ç”Ÿæ¶¯äº†ï¼Œæœ€è¿‘å¬çš„æœ€å¤šçš„å°±æ˜¯æ•™è‚²ï¼Œå…´è¶£ç­ï¼Œå­¦åŒºæˆ¿â€¦â€¦ï¼Œçƒ§é’±çš„è·¯æ„Ÿè§‰å·²ç»åœ¨çœ¼å‰äº†ï¼Œå°±çœ‹æœ‰æ²¡æœ‰äº†ï½</p><a id="more"></a><p>è™½è¯´é¾™ç”Ÿé¾™å‡¤ç”Ÿå‡¤ï¼Œä½†æ˜¯ï¼Œæ‰€æœ‰çˆ¶æ¯æ€»å½’ä¼šæœ‰æœŸç›¼ï¼Œå€’ä¸æ˜¯è¯´ä¸€å®šæˆé¾™æˆå‡¤ï¼Œåªæ˜¯ä½œä¸ºä¸€ä¸ªè€æ¯äº²ï¼Œå¸Œæœ›ä»–ä»¥åå¯ä»¥å°½é‡ç”Ÿæ´»çš„å¼€å¿ƒå¹¸ç¦ï½</p><p>é—²æ¥å¤§æ¦‚æŸ¥äº†ä¸‹å—äº¬çš„å­¦åŒºï¼Œä»·æ ¼å°±ä¸è¯´äº†ï¼Œéƒ½æ˜¯æˆ‘è¿™æ ·çš„å¹³æ°‘ä¹°ä¸èµ·çš„ï¼›å…¶å®éƒ½æ˜¯åŒå‘çš„ï¼Œèƒ½ä¹°åœ¨å­¦åŒºçš„ï¼Œé¦–å…ˆå®¶åº­èµ·ç æœ‰é‚£ä¸ªåº•å­ï¼Œå…¶æ¬¡å®¶é•¿é‡è§†å­å¥³æ•™è‚²ï¼Œå†æ¬¡å°±æ˜¯å°å­©æœ¬èº«èµ„è´¨ä¸å·®ã€‚å¤§æ¦‚ç†äº†ä¸€ä¸‹ï¼Œå—¯ï¼Œå­¦åŒºæˆ¿æ„å‘³ç€å¤§èµ„æœ¬ï¼Œé‡è§†æ„å‘³ç€æ˜¯æœ‰èµ„æœ¬ä¸”èˆå¾—èŠ±å¿ƒåŠ›è´¢åŠ›æŠ•èµ„çš„ï¼Œè‡³äºå­©å­çš„èµ„è´¨ï¼Œæƒ³æ¥ç°åœ¨è¿™ä¸ªæ—¶ä»£ï¼Œé™¤äº†ä¸ªåˆ«çš„å¤©æ‰ï¼Œé‚£æ²¡çš„è¯´ï¼Œå¤§éƒ¨åˆ†å­©å­åº”è¯¥æ˜¯å·®ä¸å¤šæ°´å¹³çš„ï¼Œæ‰€ä»¥ï¼Œå¤§æ¦‚ç‡æ°´å¹³ï¼Œè¿˜æ˜¯è¦é ç§¯ç´¯çš„èµ„æœ¬ï¼Œè¿™é‡Œï¼Œèµ„æœ¬ä¸ä»…ä»…æ˜¯ç»æµä¸Šçš„ï¼Œè¿˜æœ‰äººè„‰ä¸Šçš„ä»¥åŠç²¾åŠ›ä¸Šçš„ï¼Œå½“ç„¶ï¼Œéƒ½è¦æ’é™¤ä¸€äº›ä¸ªä¾‹ï¼Œæ¯•ç«Ÿä¹Ÿä¼šæœ‰å¤©æ‰çš„ï½</p><p>æ”¾çœ¼ç°åœ¨æˆ‘ä»¬è‡ªå·±ï¼Œæœ‰æ—¶ä¼šæƒ³ï¼Œæˆ‘ä»¬é‚£ä¼šéƒ½æ˜¯è‡ªå·±ä¸Šä¸Šå­¦ï¼Œä¹Ÿæ²¡èŠ±ç‰¹åˆ«èµ„æœ¬å»åšä»€ä¹ˆï¼Œç°åœ¨ä¹Ÿè¿˜å¥½å•Šï¼ä½†æƒ³æƒ³ï¼Œæ—¶ä»£æ—©å°±ä¸åŒäº†ï¼Œæˆ‘ä»¬çˆ¶æ¯é‚£ä»£ï¼Œåªè¦è€ƒä¸Šå¤§å­¦ï¼Œå°±æ˜¯ä¸€è·¯å‰ç¨‹ä¼¼é”¦äº†ï¼Œå½“ç„¶ï¼Œèƒ½è€ƒä¸Šçš„ï¼Œé‚£ä¼šæœ¬èº«ä¹Ÿæ˜¯é¾™å‡¤äº†ï¼Œåˆ°äº†æˆ‘ä»¬è¿™ä»£ï¼Œå·²ç»æ²¡æœ‰åˆ†æˆ¿åˆ†é…å·¥ä½œå•¥çš„äº†ï¼Œå­¦ä¸šä¼šåˆ’åˆ†å±‚æ¬¡ï¼Œé¡ºåˆ©å®Œæˆå­¦ä¸šåªæ˜¯å®Œæˆäº†ä¸€éƒ¨åˆ†ä»»åŠ¡è€Œå·²ï¼Œè¿˜æœ‰ç§¯ç´¯èµ„æœ¬çš„å·¥ä½œè¿˜æ²¡å®Œæˆï¼Œè¿™ä¸ªæ—¶å€™å°±æ˜¯åˆ’åˆ†å¤§å±‚æ¬¡çš„æ—¶å€™äº†ï¼Œè¿™é‡Œè¿˜æ˜¯è¦æ’é™¤é‚£äº›ç‰¹æ®Šäººç‰©ï¼Œæ¯•ç«Ÿï¼Œå¤§éƒ¨åˆ†è¿˜æ˜¯æˆ‘ä»¬è¿™å·æ™®é€šäººï½ä½†æ˜¯å­¦ä¸šå¥½åå¤šå¤šå°‘å°‘è¿˜æ˜¯ä¼šä¸å·¥ä½œæŒ‚é’©çš„ï¼Œæ¯”å¦‚è¯´ï¼Œä½ æ˜¯åæ ¡æ¯•ä¸šï¼Œæ»¡èº«æ‰åï¼Œæ„å‘³ç€ä½ å·²ç»ç§¯ç´¯äº†ä¸€éƒ¨åˆ†èµ„æœ¬ï¼Œä½ æ˜¯æ™®é€šé™¢æ ¡æ¯•ä¸šï¼Œè°éƒ½çœ‹å¾—å‡ºæ¥å·®è·äº†ï¼Œä¸è¦è¾ƒçœŸè¯´æ˜¯åŒ—å¤§ä¹Ÿå‡ºæ¥å–çŒªè‚‰çš„ï¼Œä½ æƒ³æƒ³ï¼ŒåŒ—å¤§å‡ºæ¥å–çŒªè‚‰ï¼Œä»–å–çš„æ°´å¹³ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œäººå®¶ä¹Ÿå¼€è¿é”åˆ›å“ç‰Œäº†ï½</p><p>å­Ÿæ¯ä¸‰è¿ï¼Œè¿˜æ˜¯æœ‰é“ç†çš„ï¼Œæ‰€è°“è¿‘æœ±è€…èµ¤ï¼Œè¿‘å¢¨è€…é»‘ã€‚åªæ˜¯æœ‰æ—¶ä¹Ÿç–‘æƒ‘ï¼Œä¸ä¸€å®šæ¯ä¸ªäººå­Ÿæ¯ä¸‰è¿éƒ½ä¼šæˆåŠŸå§ï¼Ÿæˆ‘ä¸çŸ¥é“ï¼Œæ˜¯ä¸æ˜¯ç°åœ¨æ¯ä¸ªå­Ÿæ¯ä¸‰è¿éƒ½ä¼šæˆåŠŸï¼Œä½†æ˜¯ä¹‹å‰æœ‰çœ‹è¿‡ï¼Œè¿åˆ°èä¸è¿›å»çš„åœˆå­ï¼Œé‚£æ€ä¹ˆåŠï¼Ÿçœ‹åˆ°è¿‡ä¸€ä¸ªæœˆè–ª5000ï¼Œæƒ³ç»™å¨ƒä¸Š5ä¸‡å¹¼å„¿å›­çš„å¸–å­ï¼Œæˆ‘ä¸çŸ¥é“å¸–å­çš„çœŸå®æ€§ï¼Œä½†æ˜¯ä½œä¸ºä¸¾ä¾‹è¿˜æ˜¯å¯ä»¥çš„ï¼Œæˆ‘èƒ½æƒ³è±¡çš„åˆ°çš„æ˜¯ï¼Œçˆ¶æ¯åªèƒ½é å„ç§å€Ÿæ¬¾æ¥æ”¯æ’‘è¿™æ ·çš„æ—¥å­ï¼Œé™¤éæœˆè–ªæ”¹æˆæ—¥è–ªæˆ–è€…æ—¶è–ªå§ï¼å†è€…ï¼Œè¿™ä¸ªåœˆå­é‡Œç¡®å®æœ‰ä¼˜ç§€ï¼Œä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬è‡ªå·±æ²¡æœ‰é‚£ä¹ˆä¼˜ç§€çš„æ—¶å€™ï¼Œèƒ½èè¿›å»ä¹ˆï¼Ÿåˆ«äººä¸Šè¿™ä¸ªå¹¼å„¿å›­çš„åŒæ—¶ï¼Œä¹Ÿæ˜¯èŠ±äº†é‡é‡‘å’Œç²¾åŠ›åœ¨å¤–é¢æœ‰è¾…å¯¼çš„ï¼Œæˆ‘ä»¬è¿˜æœ‰é¢å¤–ç²¾åŠ›å’Œé‡é‡‘ä¹ˆï¼Ÿ</p><p>ä¹±ä¸ƒå…«ç³Ÿçš„å†™ï¼Œæƒ³æƒ³ï¼Œä¸èƒ½æ’é™¤å­¦åŒºæˆ¿çš„ä¼˜åŠ¿ï¼Œé¦–å…ˆï¼Œç¬¦åˆå­Ÿæ¯ä¸‰è¿çš„æ–‡åŒ–ç†é™¶ï¼Œæ¯•ç«Ÿï¼Œä¹°å­¦åŒºæˆ¿çš„éƒ½æ˜¯ç›¸å¯¹æ¯”è¾ƒé‡è§†çš„ï¼Œå­¦æ ¡å¸ˆèµ„åŠ›é‡ç›¸å¯¹ä¹Ÿæ˜¯ä¼˜ç§€çš„ï¼Œåªæ˜¯ï¼Œå­¦åŒºæˆ¿çš„å‰ææ˜¯èµ„æœ¬ï¼Œæˆ‘ä»¬åªèƒ½åœ¨èƒ½åŠ›èŒƒå›´å†…ï¼Œæ‹©ä¼˜é€‰æ‹©å¥½çš„å­¦åŒºï¼Œè¨€ä¼ èº«æ•™ï¼Œèº«æ•™å¾ˆé‡è¦ï½è¿˜æœ‰ï¼Œèƒ½åŠ›èŒƒå›´å†…ï¼Œå°½é‡ç»™äºˆå¥½çš„æ•™è‚²å§ï¼Œä¸è¦è¯´ä»¥å‰ï¼Œä»¥å‰ä¸ç°åœ¨æ—©å°±åä¸‡å…«åƒé‡Œçš„å·®è·ï¼Œæˆ‘ä»¬å‡ºæ¥éƒ½çœ‹åˆ°å·®è·äº†ï¼Œæ›´ä½•å†µä»–ä»¬çš„æœªæ¥ï¼Œè°çœ‹å¾—æ¸…ï¼Ÿç°åœ¨åƒçš„è‹¦ï¼Œæ‰æœ‰ä»¥åçš„ç”œï¼Œå¯èƒ½ï½å‡¡äº‹æ²¡æœ‰ä¸€å®šï¼Œåªèƒ½ä»æ¦‚ç‡ä¸Šæ¥è¯´ï¼Œæ˜¯å¤§æ¦‚ç‡ï½</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¨ƒå¿«ä¸¤å²äº†ï¼Œæ„å‘³ç€å¿«è¦å¼€å§‹ä»–çš„æ±‚å­¦ç”Ÿæ¶¯äº†ï¼Œæœ€è¿‘å¬çš„æœ€å¤šçš„å°±æ˜¯æ•™è‚²ï¼Œå…´è¶£ç­ï¼Œå­¦åŒºæˆ¿â€¦â€¦ï¼Œçƒ§é’±çš„è·¯æ„Ÿè§‰å·²ç»åœ¨çœ¼å‰äº†ï¼Œå°±çœ‹æœ‰æ²¡æœ‰äº†ï½&lt;/p&gt;
    
    </summary>
    
    
      <category term="å¿ƒæƒ…ç‰©è¯­" scheme="https://mojipanda.com/categories/%E5%BF%83%E6%83%85%E7%89%A9%E8%AF%AD/"/>
    
    
      <category term="è‚²å„¿" scheme="https://mojipanda.com/tags/%E8%82%B2%E5%84%BF/"/>
    
  </entry>
  
  <entry>
    <title>ç®€ç¬”ç”»-20200520</title>
    <link href="https://mojipanda.com/blog/57eb/"/>
    <id>https://mojipanda.com/blog/57eb/</id>
    <published>2020-05-20T09:24:26.000Z</published>
    <updated>2020-05-20T09:30:23.488Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/img/loading.svg" data-original="https://cdn.jsdelivr.net/gh/cocosongying/cdn-assets/blog/57eb/01.png" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;/img/loading.svg&quot; data-original=&quot;https://cdn.jsdelivr.net/gh/cocosongying/cdn-assets/blog/57eb/01.png&quot; alt&gt;&lt;/p&gt;
      
    
    </summary>
    
    
      <category term="ç®€ç¬”ç”»" scheme="https://mojipanda.com/categories/%E7%AE%80%E7%AC%94%E7%94%BB/"/>
    
    
  </entry>
  
  <entry>
    <title>FireAlpaca-å…è´¹ç»˜ç”»è½¯ä»¶</title>
    <link href="https://mojipanda.com/blog/d53d/"/>
    <id>https://mojipanda.com/blog/d53d/</id>
    <published>2020-05-20T03:34:08.000Z</published>
    <updated>2020-05-20T03:58:27.762Z</updated>
    
    <content type="html"><![CDATA[<p>æ¨èä¸€æ¬¾å…è´¹çš„è½»é‡çº§å›¾åƒç¼–è¾‘å’Œå›¾åƒç»˜ç”»è½¯ä»¶</p><a id="more"></a><blockquote><p>FireAlpaca,æ˜¯æ¬¾èƒ½ç«‹å³ã€Œè½»æ¾ä¸”ç®€å•ã€ä½¿ç”¨çš„ç»˜ç”»è½¯ä»¶ã€‚æˆ‘ä»¬ä¸ºäº†ä½¿ä¸–ç•Œä¸Šæ›´å¤šçš„äººéƒ½èƒ½äº²èº«ä½“éªŒï¼Œæ‰€ä»¥é‡‡ç”¨å…è´¹ä¸‹è½½ã€‚å½“ç„¶ï¼Œä¹Ÿä¸å­˜åœ¨è¿„ä»Šä»¤äººå›°æ‰°çš„éº¦é‡‘å¡”ç”¨æˆ· / å¾®è½¯ç”¨æˆ·çš„ä½¿ç”¨é™åˆ¶ã€‚å¸Œæœ›åœ¨å‘äººå­¦ä¹ æ­¤è½¯ä»¶å‰ï¼Œæ‚¨èƒ½çˆ±ç”¨æ­¤è½¯ä»¶åˆ°èƒ½æ•™å¯¼ä»–äººç¨‹åº¦ã€‚<br><em>â€“ FireAlpaca</em></p></blockquote><p>å…ˆæ¥çœ‹çœ‹è½¯ä»¶é¦–é¡µæˆªå›¾<br><img src="/img/loading.svg" data-original="https://cdn.jsdelivr.net/gh/cocosongying/cdn-assets/blog/d53d/01.png" alt></p><p>è¿™ä¸ªè½¯ä»¶çš„å›¾æ ‡å°±æ˜¯ä¸€åªç¾Šé©¼</p><p>ç™¾é—»ä¸å¦‚ä¸€è§ï¼Œç™¾è§ä¸å¦‚ä¸€ç”¨ã€‚è¿™æ¬¾è½¯ä»¶æœ¬æ¥å°±æ˜¯å¸Œæœ›è®©å°ç™½éƒ½ä¼šä½¿ç”¨ï¼ŒæŠ–åŠ¨ä¿®æ­£åŠŸèƒ½è¿˜æ˜¯ä¸é”™çš„ï¼Œæ‰‹æ®‹å…šæœ€å®¹æ˜“æ‰‹æŠ–äº†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å¯èƒ½ä¼šä½¿ç”¨è¿™æ¬¾è½¯ä»¶è¯•ç€åˆ›ä½œä¸€äº›æ¼«ç”»ï¼Œæ•™ç¨‹å°±å…ˆä¸åˆ—ä¸¾äº†ï¼Œæˆ‘ä¹Ÿæ˜¯æ–°æ‰‹å°ç™½ï¼Œéƒ½è¦ä»å¤´å¼€å§‹ç†Ÿæ‚‰ã€‚åŠ æ²¹ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ¨èä¸€æ¬¾å…è´¹çš„è½»é‡çº§å›¾åƒç¼–è¾‘å’Œå›¾åƒç»˜ç”»è½¯ä»¶&lt;/p&gt;
    
    </summary>
    
    
      <category term="å®ç”¨æ•™ç¨‹" scheme="https://mojipanda.com/categories/%E5%AE%9E%E7%94%A8%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="å·¥å…·" scheme="https://mojipanda.com/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>Nginx-è®°ä¸€æ¬¡httpè½¬å‘httpsé…ç½®é”™è¯¯</title>
    <link href="https://mojipanda.com/blog/8e63/"/>
    <id>https://mojipanda.com/blog/8e63/</id>
    <published>2020-05-20T01:08:51.000Z</published>
    <updated>2020-05-20T03:16:53.072Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€æ¬¡ç”±äº nginx é…ç½®é”™è¯¯å¯¼è‡´çš„ç½‘é¡µæ— æ³•è®¿é—®äº‹æ•…ã€‚</p><a id="more"></a><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>åœ¨æµè§ˆå™¨é€šè¿‡ <code>http</code> è®¿é—®ç½‘å€ä¼šåœ¨åœ°å€æ å·¦è¾¹æç¤º <code>ä¸å®‰å…¨</code> å­—æ ·ï¼Œè€Œé€šè¿‡ <code>https</code> åˆ™ä¼šæ˜¾ç¤ºä¸€ä¸ªå¸¦ ğŸ”’ çš„å›¾æ ‡ã€‚æˆ‘çš„ç½‘ç«™åˆšå»ºçš„æ—¶å€™å°±å·²ç»å¯ä»¥åŒæ—¶æ”¯æŒ <code>http</code> å’Œ <code>https</code> äº†ã€‚</p><p>ç”±äºç™¾åº¦æ”¶å½•ç«™ç‚¹è¦å¡«å†™å¥½å¤šä¸ªäººéšç§ä¿¡æ¯ï¼Œä¸é«˜å…´å¡«ï¼Œäºæ˜¯å°±åªæäº¤äº†é¦–é¡µåœ°å€ï¼Œä¹Ÿæ²¡æŠ±ä»€ä¹ˆå¸Œæœ›ï¼Œæœ‰æ¬¡æœç´¢å‡ºäº†æˆ‘çš„ç½‘ç«™ï¼Œä¸è¿‡æ˜¯é€šè¿‡ <code>http</code>æ–¹å¼è®¿é—®çš„ï¼Œäºæ˜¯æˆ‘å°±æƒ³èƒ½ä¸èƒ½åšä¸ªè·³è½¬ï¼ŒæŠŠ <code>http</code> è¯·æ±‚å…¨éƒ¨è½¬å‘åˆ° <code>https</code>ä¸Šã€‚</p><h2 id="æäº‹"><a href="#æäº‹" class="headerlink" title="æäº‹"></a>æäº‹</h2><p>æˆ‘æŸ¥åˆ°äº†ä¸‹é¢çš„é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rewrite ^(.*)$ https:&#x2F;&#x2F;$host$1 permanent;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘å°±ç›´æ¥å¤åˆ¶åˆ°æˆ‘çš„é…ç½®æ–‡ä»¶é‡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">server &#123; </span><br><span class="line">    listen 80;</span><br><span class="line">    listen 443 ssl http2;</span><br><span class="line">    server_name mojipanda.com www.mojipanda.com;</span><br><span class="line">    rewrite ^(.*)$ https:&#x2F;&#x2F;$host$1 permanent;</span><br><span class="line">    ssl_certificate cert&#x2F;mojipanda.com_chain.crt;</span><br><span class="line">    ssl_certificate_key cert&#x2F;mojipanda.com_key.key;</span><br><span class="line">    ssl_session_timeout 4h;</span><br><span class="line">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class="line">    error_page 500 502 503 504 404 &#x2F;404.html;</span><br><span class="line">    location &#x2F; &#123; </span><br><span class="line">        alias &#x2F;mojipanda&#x2F;blog&#x2F;;</span><br><span class="line">        index index.html;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸€ä¸‹ <code>nginx</code> çš„çƒ­åŠ è½½</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure><p>ä»ç™¾åº¦æœç´¢ <code>ç£¨å½ç†ŠçŒ«</code> ç„¶åç‚¹å‡»æˆ‘çš„ä¸»é¡µåœ°å€ <a href="http://mojipanda.com">http://mojipanda.com</a> ï¼Œæœç„¶è·³è½¬åˆ° <a href="https://mojipanda.com">https://mojipanda.com</a> ã€‚</p><h2 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h2><p>è¿™ä¸‹å¯ä»¥ä¼‘æ¯ä¸€ä¼šäº†ï¼Œäºæ˜¯æˆ‘æ‹¿èµ·æ‰‹æœºï¼Œéšæ‰‹è®¿é—®äº†ä¸€ä¸‹æˆ‘çš„ç½‘ç«™ï¼Œæ— æ³•åŠ è½½ï¼ï¼ï¼</p><p>ä»€ä¹ˆæƒ…å†µï¼å¾®ä¿¡è¯•äº†ï¼Œä¸¤ä¸ªä¸åŒçš„æ‰‹æœºæµè§ˆå™¨ä¹Ÿè¯•äº†éƒ½ä¸è¡Œï¼Œæ€¥å¿™æ‰“å¼€ç”µè„‘ï¼Œç”µè„‘æµè§ˆå™¨è®¿é—®åˆæ˜¯æ­£å¸¸çš„ã€‚æƒ³æƒ³åˆšåˆšåªæ”¹äº†é‚£ä¸€ä¸ªé…ç½®ï¼Œèµ¶ç´§å…ˆæ’¤å›ä¿®æ”¹æŸ¥æŸ¥åŸå› ã€‚</p><p>æ¢å¤åˆ°ä¹‹å‰ç‰ˆæœ¬ä¹‹åï¼Œå‘ç°å¾®ä¿¡è¿˜æ˜¯æ‰“å¼€ä¸äº†ï¼Œä¸è¿‡æ‰‹æœºæµè§ˆå™¨å·²ç»å¯ä»¥è®¿é—®äº†ï¼Œè¿™åº”è¯¥æ˜¯å¾®ä¿¡ç¼“å­˜é—®é¢˜ï¼Œå…ˆä¸ç®¡äº†ï¼ŒæŸ¥æŸ¥é…ç½®åŸå› ã€‚</p><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>åŸæ¥ <code>http</code> çš„ é…ç½®è¦å’Œ <code>https</code> çš„é…ç½®åˆ†å¼€ï¼Œåœ¨ <code>http</code> çš„é…ç½®é‡Œåšè·³è½¬åˆ° <code>https</code> å°±å¯ä»¥äº†ã€‚æ¨èä½¿ç”¨ 301 é‡å®šå‘æ–¹å¼ï¼Œè€Œä¸æ˜¯ <code>rewrite</code> ç½‘å€ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return 301 https:&#x2F;&#x2F;mojipanda.com$request_uri;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åçš„é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">server &#123; </span><br><span class="line">    listen 80;</span><br><span class="line">    server_name mojipanda.com www.mojipanda.com;</span><br><span class="line">    return 301 https:&#x2F;&#x2F;mojipanda.com$request_uri;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 443 ssl http2;</span><br><span class="line">    server_name mojipanda.com www.mojipanda.com;</span><br><span class="line">    ssl_certificate cert&#x2F;mojipanda.com_chain.crt;</span><br><span class="line">    ssl_certificate_key cert&#x2F;mojipanda.com_key.key;</span><br><span class="line">    ssl_session_timeout 4h;</span><br><span class="line">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class="line">    error_page 500 502 503 504 404 &#x2F;404.html;</span><br><span class="line">    location &#x2F; &#123; </span><br><span class="line">        alias &#x2F;mojipanda&#x2F;blog&#x2F;;</span><br><span class="line">        index index.html;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><p>é¦–å…ˆç”µè„‘æµè§ˆå™¨è®¿é—®æ­£å¸¸ï¼Œ<code>http</code> è¯·æ±‚ä¹ŸæˆåŠŸè·³è½¬åˆ° <code>https</code> äº†ã€‚</p><p>å†è¯•è¯•æ‰‹æœºæµè§ˆå™¨è®¿é—®ä¹Ÿæ­£å¸¸ï¼Œ<code>http</code> è¯·æ±‚ä¹ŸæˆåŠŸè·³è½¬åˆ° <code>https</code> äº†ã€‚</p><p>å†æ‰“å¼€å¾®ä¿¡ï¼Œç‚¹ä¸€ç‚¹ä»¥å‰çš„è¿æ¥ï¼Œå‘ç°è¿˜æ˜¯ä¸è¡Œï¼Œä¹Ÿæ²¡æ‰¾åˆ°æ¸…ç¼“å­˜çš„åœ°æ–¹ï¼Œé€€å‡ºé‡å¯æ¸…åå°ï¼Œè¿˜æ˜¯æ²¡æœ‰æ•ˆæœï¼Œæœ€ååªèƒ½ç­‰ç­‰çœ‹äº†ã€‚ï¼ˆå½“æ—¶åº”è¯¥æ‰¾å¦å¤–ä¸€ä¸ªæ‰‹æœºéªŒè¯çš„ï¼‰ã€‚ç­‰äº†ä¸€ä¼šï¼Œé“¾æ¥ç»ˆäºè®¿é—®æˆåŠŸäº†ï¼Œè€Œåˆ†äº«çš„æ—§é“¾æ¥è¿˜ä¸è¡Œï¼Œå†ç­‰ä¸€ä¼šï¼Œç»ˆäºæ¢å¤æ­£å¸¸ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é‡åˆ°é—®é¢˜ä¸ç”¨æ…Œï¼Œå¯¹äºä¸ç†Ÿæ‚‰çš„åœ°æ–¹ï¼Œå¤šå°è¯•ï¼Œå¤šæ‰¾æ‰¾èµ„æ–™ï¼Œè¿˜æœ‰å¤šå¤‡ä»½ã€‚å‘ç°é—®é¢˜ï¼Œå…ˆæ¢å¤ï¼Œåœ¨æ”¶é›†ä¿¡æ¯æŸ¥æ‰¾åŸå› ï¼Œå®šä½é—®é¢˜æ‰¾åˆ°è§£å†³åŠæ³•ï¼Œæœ€åå……åˆ†éªŒè¯ã€‚é‡åˆ°é—®é¢˜å¹¶æ²¡æœ‰å•¥ï¼Œå‘ç°é—®é¢˜è§£å†³é—®é¢˜ä¹‹åï¼Œæ„Ÿè§‰è‡ªå·±åˆç§¯ç´¯äº†ä¸€ä»½ç»éªŒå•¦ï½</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™æ˜¯ä¸€æ¬¡ç”±äº nginx é…ç½®é”™è¯¯å¯¼è‡´çš„ç½‘é¡µæ— æ³•è®¿é—®äº‹æ•…ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://mojipanda.com/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="nginx" scheme="https://mojipanda.com/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>Hexo-æ·»åŠ Gitalkè¯„è®ºç³»ç»Ÿ</title>
    <link href="https://mojipanda.com/blog/da9d/"/>
    <id>https://mojipanda.com/blog/da9d/</id>
    <published>2020-05-19T13:17:23.000Z</published>
    <updated>2020-05-19T14:49:39.199Z</updated>
    
    <content type="html"><![CDATA[<p>Gitalk - ä¸€ä¸ªåŸºäº Github Issue å’Œ Preact å¼€å‘çš„è¯„è®ºæ’ä»¶</p><a id="more"></a><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>é™æ€åšå®¢å…¶å®æœ‰å¾ˆå¤šè¯„è®ºç³»ç»Ÿï¼Œæ¯ç§è¯„è®ºç³»ç»Ÿéƒ½æœ‰è‡ªå·±å„è‡ªçš„ä¼˜åŠ¿ã€‚æˆ‘ä½¿ç”¨çš„è¿™å¥—ä¸»é¢˜å·²ç»å¯ä»¥æ”¯æŒä¸‹é¢è¿™äº›è¯„è®ºç³»ç»Ÿäº†ã€‚</p><ul><li><a href="https://disqus.com/" target="_blank" rel="external nofollow noopener noreferrer">Disqus</a></li><li><a href="https://github.com/gitalk/gitalk" target="_blank" rel="external nofollow noopener noreferrer">Gitalk</a></li><li><a href="https://valine.js.org" target="_blank" rel="external nofollow noopener noreferrer">Valine</a></li><li><a href="https://github.com/MiniValine/MiniValine/" target="_blank" rel="external nofollow noopener noreferrer">MiniValine</a></li><li><a href="https://www.livere.com/" target="_blank" rel="external nofollow noopener noreferrer">Livere</a></li><li><a href="https://vssue.js.org/zh/" target="_blank" rel="external nofollow noopener noreferrer">Vssue</a></li></ul><h2 id="æˆ‘ä¸ºä»€ä¹ˆé€‰æ‹©Gitalk"><a href="#æˆ‘ä¸ºä»€ä¹ˆé€‰æ‹©Gitalk" class="headerlink" title="æˆ‘ä¸ºä»€ä¹ˆé€‰æ‹©Gitalk"></a>æˆ‘ä¸ºä»€ä¹ˆé€‰æ‹©Gitalk</h2><p><code>Disqus</code> è¿˜æ˜¯ä¸é”™çš„ï¼Œä»¥å‰ä½¿ç”¨è¿‡ï¼Œä¸è¿‡ç°åœ¨åœ¨å›½å†…è®¿é—®ä¸äº†ã€‚</p><p><code>Valine</code> ç¬¬ä¸€æ¬¡çœ‹åˆ°çš„æ—¶å€™è¿˜æ˜¯å¾ˆæƒŠè‰³çš„ï¼Œæˆ‘ä¹Ÿå‘ç°æœ‰ä¸å°‘åšå®¢éƒ½åœ¨ä½¿ç”¨ï¼Œåœ¨ä½¿ç”¨æ–¹é¢ï¼Œæ”¯æŒ <code>markdown</code> è¯­æ³•ï¼Œå¯ä»¥å‘ä¸€äº›å†…ç½®è¡¨æƒ…åŒ…ï¼Œä¸éœ€è¦ç™»å½•è®¤è¯å°±å¯ä»¥è¿›è¡Œè¯„è®ºã€‚æœ€åä¸€ç‚¹æˆ‘ä¸ªäººæ¯”è¾ƒä»‹æ„ï¼Œæ‰€ä»¥å¿ç—›æ”¾å¼ƒã€‚</p><p><code>Gitalk</code> æ˜¯åŸºäº <code>Github Issue</code> çš„ï¼Œè¯„è®ºå¿…é¡»ä½¿ç”¨ <code>Github</code> è´¦å·ç™»å½•ã€‚æˆ‘è¿™ä¸ªåšå®¢ç›®å‰æŠ€æœ¯å†…å®¹åå¤šï¼Œæ‰€ä»¥å—ä¼—ä¹Ÿå¾ˆæ˜ç¡®ã€‚å³ä½¿æ²¡æœ‰è´¦å·è¿›è¡Œè¯„è®ºï¼Œè¿˜æ˜¯å¯ä»¥é€šè¿‡å¾®åšï¼Œé‚®ä»¶æˆ–è€…å…¬ä¼—å·ç­‰æ–¹å¼è¿›è¡Œè”ç³»ã€‚è€Œä¸”éƒ¨ç½²ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥å°±é€‰æ‹©å®ƒäº†ï¼Œå‰©ä¸‹å‡ ä¸ªä¹Ÿå°±æ²¡äº†è§£äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»çœ‹çœ‹ã€‚</p><h2 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h2><p>é¦–å…ˆç™»å½•ä½ çš„ <code>Github</code> è´¦å·ï¼Œç›´æ¥è®¿é—®ä¸‹é¢çš„åœ°å€ï¼š</p><div class="note link"><p><a href="https://github.com/settings/applications/new" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/settings/applications/new</a></p></div><p>å¡«å†™ <code>*</code> å·å†…å®¹å¹¶æäº¤ï¼Œæ³¨æ„è¿™ä¸¤ä¸ª URL æ˜¯å¡«å†™ä½ è¦ä½¿ç”¨è¯„è®ºç³»ç»Ÿçš„ç½‘å€ã€‚</p><p><img src="/img/loading.svg" data-original="https://cdn.jsdelivr.net/gh/cocosongying/cdn-assets/blog/da9d/01.png" alt></p><p>æäº¤å®Œæˆä½ ä¼šè·å¾— <code>Client ID</code> å’Œ <code>Client Secret</code>ï¼Œè¿™ä¸¤ä¸ªæ˜¯ç”¨æ¥å¡«å†™åœ¨é…ç½®é‡Œçš„ã€‚</p><p><img src="/img/loading.svg" data-original="https://cdn.jsdelivr.net/gh/cocosongying/cdn-assets/blog/da9d/02.png" alt></p><p>æˆ‘ç”¨çš„ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>themes/volantis/_config.yml</code> ä¿®æ”¹ä¸‹é¢å‡ é¡¹ã€‚</p><ul><li><code>clientID</code> å’Œ <code>clientSecret</code> æ˜¯ä¸Šé¢è·å–çš„</li><li><code>repo</code> å¡«å†™ä½ çš„githubå»ºçš„ä»“åº“åç§°ï¼Œå› ä¸ºè¦ç”¨åˆ° <code>issues</code></li><li><code>owner</code>å’Œ <code>admin</code> å†™è‡ªå·±è´¦å·å°±è¡Œäº†ï¼Œæ³¨æ„ <code>admin</code> æ ¼å¼æ˜¯æ•°ç»„<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Gitalk</span><br><span class="line"># https:&#x2F;&#x2F;gitalk.github.io&#x2F;</span><br><span class="line">gitalk:</span><br><span class="line">  clientID: yourClientID</span><br><span class="line">  clientSecret: yourClientSecret</span><br><span class="line">  repo: blog</span><br><span class="line">  owner: cocosongying</span><br><span class="line">  admin: [cocosongying]</span><br></pre></td></tr></table></figure></li></ul><p>é…ç½®å®Œæˆæ‰§è¡Œ <code>hexo clean &amp;&amp; hexo g</code> æ¥é‡æ–°ç”Ÿæˆç½‘ç«™ï¼Œ<code>hexo s</code> æœ¬åœ°çœ‹ä¸€ä¸‹æ•ˆæœã€‚è¿™ä¸ªæ—¶å€™æ˜¾ç¤º <code>æœªæ‰¾åˆ°ç›¸å…³çš„ Issues è¿›è¡Œè¯„è®º</code> <code>è¯·è”ç³» @yourname åˆå§‹åŒ–åˆ›å»º</code>ï¼Œç‚¹å‡» <code>ä½¿ç”¨ Github ç™»å½•</code> ä¼šè·³è½¬åˆ°ç½‘ç«™é¦–é¡µï¼Œæ²¡æœ‰ç”¨ã€‚</p><p>æ‰€ä»¥ï¼Œè¿™ä¸€æ­¥å¾ˆé‡è¦ï¼Œå…ˆæ‰§è¡Œ <code>hexo d</code> æŠŠç½‘ç«™éƒ¨ç½²ä¸Šå»ã€‚</p><p><img src="/img/loading.svg" data-original="https://cdn.jsdelivr.net/gh/cocosongying/cdn-assets/blog/da9d/03.png" alt></p><p>åœ¨éƒ¨ç½²åˆ°çº¿ä¸Šçš„ç½‘ç«™ç‚¹å‡» <code>ä½¿ç”¨ Github ç™»å½•</code> ä¼šè·³è½¬åˆ°ä¸‹é¢çš„é¡µé¢æç¤ºä½ æˆæƒã€‚</p><p><img src="/img/loading.svg" data-original="https://cdn.jsdelivr.net/gh/cocosongying/cdn-assets/blog/da9d/04.png" alt></p><p>æˆæƒå®Œæˆå†çœ‹ä½ çš„è¯„è®ºæ¡†å°±å·²ç»éƒ¨ç½²æˆåŠŸäº†ã€‚</p><p><img src="/img/loading.svg" data-original="https://cdn.jsdelivr.net/gh/cocosongying/cdn-assets/blog/da9d/05.png" alt></p><h2 id="ä½¿ç”¨å¿ƒå¾—"><a href="#ä½¿ç”¨å¿ƒå¾—" class="headerlink" title="ä½¿ç”¨å¿ƒå¾—"></a>ä½¿ç”¨å¿ƒå¾—</h2><p>éƒ¨ç½²èµ·æ¥è¿˜æ˜¯æŒºç®€å•çš„ï¼Œè€Œå¯¹äºä½¿ç”¨è¯„è®ºè€…è€Œè¨€ï¼Œéœ€è¦ <code>ä½¿ç”¨ Github ç™»å½•</code> ä¹‹åè¿›è¡Œæˆæƒæ‰å¯ä»¥è¯„è®ºã€‚</p><p>æˆ‘è¿™ä¸ªæµé‡å°çš„ç½‘ç«™ï¼Œè¯„è®ºå¯èƒ½ä¼šä¸€ç›´æ˜¯ <code>0 æ¡è¯„è®º</code> å§ ğŸ˜‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Gitalk - ä¸€ä¸ªåŸºäº Github Issue å’Œ Preact å¼€å‘çš„è¯„è®ºæ’ä»¶&lt;/p&gt;
    
    </summary>
    
    
      <category term="å®ç”¨æ•™ç¨‹" scheme="https://mojipanda.com/categories/%E5%AE%9E%E7%94%A8%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Hexo" scheme="https://mojipanda.com/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Nodejs-å¦‚ä½•ä½¿ç”¨MongoDB</title>
    <link href="https://mojipanda.com/blog/4ef0/"/>
    <id>https://mojipanda.com/blog/4ef0/</id>
    <published>2020-05-18T01:54:41.000Z</published>
    <updated>2020-05-18T02:10:31.658Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ Nodejs ä¸­å¦‚ä½•è¿æ¥å¹¶ä½¿ç”¨ MongoDB</p><a id="more"></a><h2 id="å®‰è£…å‡†å¤‡"><a href="#å®‰è£…å‡†å¤‡" class="headerlink" title="å®‰è£…å‡†å¤‡"></a>å®‰è£…å‡†å¤‡</h2><p>æˆ‘ä»¬éœ€è¦å®‰è£… <code>mongoose</code> ä¾èµ–åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mongoose --save</span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ª <code>mongo</code> æ–‡ä»¶å¤¹ç”¨æ¥ç®¡ç† <code>mongodb</code> çš„ç›¸å…³æ“ä½œã€‚</p><h2 id="å…·ä½“å®ç°"><a href="#å…·ä½“å®ç°" class="headerlink" title="å…·ä½“å®ç°"></a>å…·ä½“å®ç°</h2><p>åœ¨ <code>mongo</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»º <code>connection.js</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</span><br><span class="line"><span class="keyword">const</span> mongoUrl = <span class="string">"mongodb://username:123456@localhost:27017/demo"</span>;</span><br><span class="line"></span><br><span class="line">mongoose.Promise = global.Promise;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getOptions</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        useCreateIndex: <span class="literal">true</span>,</span><br><span class="line">        useNewUrlParser: <span class="literal">true</span>,</span><br><span class="line">        useFindAndModify: <span class="literal">false</span>,</span><br><span class="line">        useUnifiedTopology: <span class="literal">true</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mongoose.connect(mongoUrl, getOptions());</span><br><span class="line"><span class="keyword">const</span> client = mongoose.connection;</span><br><span class="line">client.on(<span class="string">'connected'</span>, () =&gt; &#123; <span class="built_in">console</span>.log(<span class="string">"mongo connected"</span>) &#125;);</span><br><span class="line">client.on(<span class="string">'reconnected'</span>, () =&gt; &#123; <span class="built_in">console</span>.log(<span class="string">"mongo reconnected"</span>) &#125;);</span><br><span class="line">client.on(<span class="string">'disconnected'</span>, () =&gt; &#123; <span class="built_in">console</span>.log(<span class="string">"mongo disconnected"</span>) &#125;);</span><br><span class="line">client.on(<span class="string">'error'</span>, (error) =&gt; &#123; <span class="built_in">console</span>.log(<span class="string">"connect to "</span> + mongoUrl + <span class="string">"failed"</span>) &#125;);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">close</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    client.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    client,</span><br><span class="line">    close</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>mongo</code> æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹ <code>model</code> ç”¨æ¥è®°å½•è¡¨å®šä¹‰ï¼Œ<code>mongo/model/demo.js</code> ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</span><br><span class="line"><span class="keyword">const</span> Schema = mongoose.Schema;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> demoSchema = <span class="keyword">new</span> Schema(&#123;</span><br><span class="line">    name: <span class="built_in">String</span>,</span><br><span class="line">    desc: <span class="built_in">String</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> db = mongoose.model(<span class="string">'demo'</span>, demoSchema, <span class="string">'demo'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = db;</span><br></pre></td></tr></table></figure><h2 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h2><p>åœ¨éœ€è¦æ“ä½œ <code>mongodb</code> çš„æ–‡ä»¶ä¸­å…ˆå¼•å…¥ï¼Œå¦‚æœæ˜¯ web æ¥å£æœåŠ¡ï¼Œå¯ä»¥åœ¨ä¸»ç¨‹åºä¸­å¼•å…¥ä¸€æ¬¡ï¼Œåé¢ç›´æ¥æ“ä½œ <code>model</code> å°±å¯ä»¥äº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const conn &#x3D; require(&#39;.&#x2F;connection&#39;);</span><br></pre></td></tr></table></figure><p>ä¸¾ä¸€ä¸ªæŸ¥è¯¢çš„ä¾‹å­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const DemoDB &#x3D; require(&#39;.&#x2F;model&#x2F;demo&#39;);</span><br><span class="line">async function getAll() &#123;</span><br><span class="line">    let res &#x3D; await DemoDB.find();</span><br><span class="line">    return res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨å¿ƒå¾—"><a href="#ä½¿ç”¨å¿ƒå¾—" class="headerlink" title="ä½¿ç”¨å¿ƒå¾—"></a>ä½¿ç”¨å¿ƒå¾—</h2><p>æ¨èåœ¨ <code>mongo</code> æ–‡ä»¶å¤¹ä¸‹ç¼–å†™æ•°æ®åº“è¿æ¥æ“ä½œéƒ¨åˆ†ï¼Œä¸ºæ¯ä¸ª <code>model</code> ç¼–å†™å¥½æ“ä½œæ–¹æ³•ï¼Œç»Ÿä¸€ç®¡ç†ï¼Œè¿™æ ·ä»£ç çœ‹èµ·æ¥æ›´æ¸…æ™°ï¼Œç»´æŠ¤èµ·æ¥æ›´æ–¹ä¾¿ã€‚</p><p>åœ¨æ¥å£æœåŠ¡ä¸­ä½¿ç”¨ <code>mongodb</code> æ“ä½œæŒ‰ç…§ä¸Šé¢æ“ä½œå°±å¯ä»¥äº†ï¼Œå¦‚æœæ˜¯è„šæœ¬æ“ä½œï¼Œä½¿ç”¨å®Œæ¯•éœ€è¦å…³é—­è¿æ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conn.close();</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ Nodejs ä¸­å¦‚ä½•è¿æ¥å¹¶ä½¿ç”¨ MongoDB&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://mojipanda.com/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="mongodb" scheme="https://mojipanda.com/tags/mongodb/"/>
    
      <category term="Nodejs" scheme="https://mojipanda.com/tags/Nodejs/"/>
    
  </entry>
  
  <entry>
    <title>Nodejs-å¦‚ä½•ä½¿ç”¨MySQL</title>
    <link href="https://mojipanda.com/blog/56c7/"/>
    <id>https://mojipanda.com/blog/56c7/</id>
    <published>2020-05-16T07:28:21.000Z</published>
    <updated>2020-05-16T07:50:05.394Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ Nodejs ä¸­å¦‚ä½•è¿æ¥å¹¶ä½¿ç”¨ MySQL</p><a id="more"></a><h2 id="å®‰è£…å‡†å¤‡"><a href="#å®‰è£…å‡†å¤‡" class="headerlink" title="å®‰è£…å‡†å¤‡"></a>å®‰è£…å‡†å¤‡</h2><p>æˆ‘ä»¬éœ€è¦å®‰è£… <code>mysql2</code> ä¾èµ–åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mysql2 --save</span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ª <code>mysql</code> æ–‡ä»¶å¤¹ç”¨æ¥ç®¡ç† <code>mysql</code> çš„ç›¸å…³æ“ä½œã€‚</p><h2 id="å…·ä½“å®ç°"><a href="#å…·ä½“å®ç°" class="headerlink" title="å…·ä½“å®ç°"></a>å…·ä½“å®ç°</h2><p>åœ¨ <code>mysql</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»º <code>connection.js</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">'mysql2'</span>);</span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">'../config'</span>);</span><br><span class="line"><span class="keyword">const</span> pool = mysql.createPool(config.mysql);</span><br><span class="line"><span class="keyword">const</span> client = pool.promise();</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    pool,</span><br><span class="line">    client</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œ <code>mysql</code> çš„è¿æ¥é…ç½®å†™åœ¨ <code>config.js</code> æ–‡ä»¶ä¸­ï¼Œç¤ºä¾‹é…ç½®é¡¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const initVal &#x3D; &#123;</span><br><span class="line">    mysql: &#123;</span><br><span class="line">        host: &#39;localhost&#39;,</span><br><span class="line">        port: 3306,</span><br><span class="line">        user: &#39;username&#39;,</span><br><span class="line">        password: &#39;123456&#39;,</span><br><span class="line">        database: &#39;demo&#39;,</span><br><span class="line">        charset: &#39;utf8mb4&#39;,</span><br><span class="line">        connectionLimit: 5,</span><br><span class="line">        dateStrings: true,</span><br><span class="line">        decimalNumbers: true,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; initVal;</span><br></pre></td></tr></table></figure><h2 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h2><p>åœ¨éœ€è¦æ“ä½œ <code>mysql</code> çš„æ–‡ä»¶ä¸­å…ˆå¼•å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const &#123; client &#125; &#x3D; require(&#39;.&#x2F;connection&#39;);</span><br></pre></td></tr></table></figure><p>ä¹‹åå°±å¯ä»¥ä½¿ç”¨ sql è¯­å¥è¿›è¡Œæ„‰å¿«çš„æ“ä½œäº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">async function getById(id) &#123;</span><br><span class="line">    let sql &#x3D; &#96;select * from demo where id &#x3D; ?&#96;;</span><br><span class="line">    let args &#x3D; [id];</span><br><span class="line">    let res &#x3D; await client.query(sql, args);</span><br><span class="line">    return res[0];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ <code>return res[0]</code> æ˜¯è¿”å›çš„ç»“æœé›†ï¼Œå³å¯¹äºæŸ¥è¯¢æœ‰æ•°æ®æ—¶ï¼Œå®ƒè¿”å›çš„æ˜¯æ•°ç»„ã€‚</p><h2 id="ä½¿ç”¨å¿ƒå¾—"><a href="#ä½¿ç”¨å¿ƒå¾—" class="headerlink" title="ä½¿ç”¨å¿ƒå¾—"></a>ä½¿ç”¨å¿ƒå¾—</h2><p>æ¨èåœ¨ <code>mysql</code> æ–‡ä»¶å¤¹ä¸‹ç¼–å†™æ•°æ®åº“è¿æ¥æ“ä½œéƒ¨åˆ†ï¼Œè¿™æ ·ä»£ç çœ‹èµ·æ¥æ›´æ¸…æ™°ã€‚</p><p>åœ¨æ¥å£æœåŠ¡ä¸­ä½¿ç”¨ <code>mysql</code> æ“ä½œæŒ‰ç…§ä¸Šé¢æ“ä½œå°±å¯ä»¥äº†ï¼Œå¦‚æœæ˜¯è„šæœ¬æ“ä½œï¼Œä½¿ç”¨å®Œæ¯•éœ€è¦å…³é—­è¿æ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">client.end();</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ Nodejs ä¸­å¦‚ä½•è¿æ¥å¹¶ä½¿ç”¨ MySQL&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://mojipanda.com/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="mysql" scheme="https://mojipanda.com/tags/mysql/"/>
    
      <category term="Nodejs" scheme="https://mojipanda.com/tags/Nodejs/"/>
    
  </entry>
  
  <entry>
    <title>Nodejs-å¦‚ä½•ä½¿ç”¨Redis</title>
    <link href="https://mojipanda.com/blog/1ab7/"/>
    <id>https://mojipanda.com/blog/1ab7/</id>
    <published>2020-05-15T14:14:47.000Z</published>
    <updated>2020-05-16T07:43:40.700Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ Nodejs ä¸­å¦‚ä½•è¿æ¥å¹¶ä½¿ç”¨ Redisï¼Œé€šè¿‡ Nodejs æ“ä½œä½¿ç”¨ Redis è¿˜æ˜¯ç›¸å¯¹æ¯”è¾ƒç®€å•çš„ã€‚</p><a id="more"></a><h2 id="å®‰è£…å‡†å¤‡"><a href="#å®‰è£…å‡†å¤‡" class="headerlink" title="å®‰è£…å‡†å¤‡"></a>å®‰è£…å‡†å¤‡</h2><p>æˆ‘ä»¬éœ€è¦å®‰è£… <code>redis</code> ä¾èµ–åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install redis --save</span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ª <code>cache</code> æ–‡ä»¶å¤¹ç”¨æ¥ç®¡ç† <code>redis</code> çš„ç›¸å…³æ“ä½œã€‚</p><h2 id="å…·ä½“å®ç°"><a href="#å…·ä½“å®ç°" class="headerlink" title="å…·ä½“å®ç°"></a>å…·ä½“å®ç°</h2><p>åœ¨ <code>cache</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»º <code>connection.js</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> redis = <span class="built_in">require</span>(<span class="string">'redis'</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; promisify &#125; = <span class="built_in">require</span>(<span class="string">'util'</span>);</span><br><span class="line"><span class="keyword">const</span> client = redis.createClient(&#123;</span><br><span class="line">    host: <span class="string">"localhost"</span>,</span><br><span class="line">    password: <span class="string">"123456"</span>,</span><br><span class="line">    db: <span class="number">1</span>,</span><br><span class="line">    retry_strategy: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (options.error &amp;&amp; options.error.code === <span class="string">'ECONNREFUSED'</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'The server refused the connection'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (options.total_retry_time &gt; <span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Retry time exhausted'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (options.attempt &gt; <span class="number">100</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.min(options.attempt * <span class="number">100</span>, <span class="number">3000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> expire = promisify(client.expire).bind(client);</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">get</span> = promisify(client.<span class="keyword">get</span>).bind(client);</span><br><span class="line">const <span class="keyword">set</span> = promisify(client.<span class="keyword">set</span>).bind(client);</span><br><span class="line">const del = promisify(client.del).bind(client);</span><br><span class="line"></span><br><span class="line">class Cache &#123;</span><br><span class="line">    Timeout = &#123;</span><br><span class="line">        Default: <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">get</span>(key) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">await</span> <span class="keyword">get</span>(key);</span><br><span class="line">    &#125;</span><br><span class="line">    async <span class="keyword">set</span>(key, value, timeout) &#123;</span><br><span class="line">        <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="keyword">set</span>(key, value);</span><br><span class="line">        if (timeout) &#123;</span><br><span class="line">            <span class="keyword">await</span> expire(key, timeout);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">async</span> del(key) &#123;</span><br><span class="line">        <span class="keyword">await</span> del(key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="keyword">new</span> Cache();</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¸»è¦æ˜¯ <code>redis</code> çš„è¿æ¥ä»¥åŠ <code>redis</code> çš„å‡ ä¸ªç®€å•æ“ä½œï¼Œå¦‚è·å–ï¼Œè®¾ç½®ï¼Œåˆ é™¤ï¼Œå¦‚æœéœ€è¦å…¶ä»–åŠŸèƒ½å¯ä»¥ç»§ç»­å°è£…ã€‚</p><p>å…³äº <code>redis</code> çš„è¿æ¥é…ç½®å¯ä»¥å•ç‹¬å†™åˆ°é…ç½®æ–‡ä»¶é‡Œï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿ä»‹ç»ï¼ŒæŠŠé…ç½®å†™æ­»åœ¨ç¤ºä¾‹ä»£ç é‡Œäº†ã€‚</p><h2 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h2><p>åœ¨éœ€è¦æ“ä½œ <code>redis</code> çš„æ–‡ä»¶ä¸­å…ˆå¼•å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const Cache &#x3D; require(&#39;.&#x2F;connection&#39;);</span><br></pre></td></tr></table></figure><p>è·å–æŸä¸ª key å¯¹åº”çš„å€¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">await Cache.get(key);</span><br></pre></td></tr></table></figure><p>è®¾ç½®ä¸€ä¸ª key å¯¹åº”çš„ valueï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">await Cache.set(key, value);</span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦æŒ‡å®šç¼“å­˜æœ‰æ•ˆæœŸé™ï¼Œæ¯”å¦‚ 1 å¤©ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">await Cache.set(key, value, 24 * 60 * 60);</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨å¿ƒå¾—"><a href="#ä½¿ç”¨å¿ƒå¾—" class="headerlink" title="ä½¿ç”¨å¿ƒå¾—"></a>ä½¿ç”¨å¿ƒå¾—</h2><p>æ¨èåœ¨ <code>cache</code> æ–‡ä»¶å¤¹ä¸‹ä¸ºæ¯ä¸ª <code>key</code> æ–°å»ºå¯¹åº”çš„æ–‡ä»¶ç¨‹åºæ¥æ“ä½œ <code>redis</code>ï¼ŒæŠŠè¿™ä¸ª <code>cache</code> å½“æˆä¸€ä¸ªç¼“å­˜æ¨¡å—ï¼Œå…¶ä»–åœ°æ–¹ä½¿ç”¨åªè¦å¼•å…¥è¿™ä¸ªæ¨¡å—æ“ä½œå°±å¥½äº†ã€‚è¿™æ ·ç®¡ç†èµ·æ¥æ–¹ä¾¿ï¼Œä»£ç çœ‹èµ·æ¥æ›´æ¸…æ™°ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ Nodejs ä¸­å¦‚ä½•è¿æ¥å¹¶ä½¿ç”¨ Redisï¼Œé€šè¿‡ Nodejs æ“ä½œä½¿ç”¨ Redis è¿˜æ˜¯ç›¸å¯¹æ¯”è¾ƒç®€å•çš„ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://mojipanda.com/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="redis" scheme="https://mojipanda.com/tags/redis/"/>
    
      <category term="Nodejs" scheme="https://mojipanda.com/tags/Nodejs/"/>
    
  </entry>
  
  <entry>
    <title>Nodejs-åŸºäºKoaæ¡†æ¶å†™ä¸ªç®€å•çš„æ¥å£</title>
    <link href="https://mojipanda.com/blog/fb4f/"/>
    <id>https://mojipanda.com/blog/fb4f/</id>
    <published>2020-05-14T04:02:44.000Z</published>
    <updated>2020-05-14T04:39:16.701Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨ Nodejs å¿«é€Ÿæ­å»ºæœåŠ¡ç«¯å¹¶æä¾›ç®€å•çš„æ¥å£ç¨‹åºã€‚</p><a id="more"></a><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p>é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹ <code>demo</code>ï¼Œè¿›å…¥è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿è¡Œ <code>npm init</code> åˆå§‹åŒ–é¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir demo</span><br><span class="line"><span class="built_in">cd</span> demo</span><br><span class="line">npm init</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>npm init</code> å‘½ä»¤ä¼šè®©ä½ å¡«å†™é¡¹ç›®ç›¸å…³ä¿¡æ¯ï¼Œå¯ä»¥ä¸€è·¯é»˜è®¤ï¼Œä¹‹åå†æ”¹éƒ½å¯ä»¥ã€‚å®ƒä¸»è¦å°±æ˜¯åœ¨é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ª <code>package.json</code> çš„æ–‡ä»¶å¹¶åˆå§‹åŒ–ä¸€äº›é¡¹ç›®ä¿¡æ¯ã€‚</p><p>å…¶æ¬¡éœ€è¦å®‰è£… <code>Koa</code> æ¡†æ¶åŠä¸€äº›æ’ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install koa --save</span><br><span class="line">npm install koa-router --save</span><br><span class="line">npm install koa-bodyparser --save</span><br></pre></td></tr></table></figure><h2 id="ç¼–å†™ä¸»ç¨‹åº"><a href="#ç¼–å†™ä¸»ç¨‹åº" class="headerlink" title="ç¼–å†™ä¸»ç¨‹åº"></a>ç¼–å†™ä¸»ç¨‹åº</h2><p>æ–°å»ºæ–‡ä»¶ <code>index.js</code>ï¼Œè¿™ä¸ªæ–‡ä»¶åå¯ä»¥ä¿®æ”¹ï¼ŒåŒæ­¥ä¿®æ”¹ä¸€ä¸‹ <code>package.json</code> é‡Œ <code>main</code>é¡¹å¯¹åº”çš„æ–‡ä»¶åï¼Œè¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶æ˜¯å¯åŠ¨å…¥å£ã€‚<code>index.js</code> ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const Koa &#x3D; require(&#39;koa&#39;);</span><br><span class="line">const router &#x3D; require(&#39;koa-router&#39;)();</span><br><span class="line">const bodyParser &#x3D; require(&#39;koa-bodyparser&#39;);</span><br><span class="line">const app &#x3D; new Koa();</span><br><span class="line"></span><br><span class="line">const index &#x3D; router.get(&#39;&#x2F;demo&#39;, ctx &#x3D;&gt; &#123;</span><br><span class="line">    ctx.response.body &#x3D; &#123; code: 0, data: &#39;Hello World!&#39; &#125;;</span><br><span class="line">&#125;).routes();</span><br><span class="line"></span><br><span class="line">app.use(index);</span><br><span class="line">app.use(bodyParser());</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ•è·æœªå®šä¹‰è·¯ç”±</span><br><span class="line">app.use((ctx) &#x3D;&gt; &#123;</span><br><span class="line">    ctx.response.body &#x3D; &#123; code: 404 &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¯åŠ¨é¡¹ç›®</span><br><span class="line">app.listen(3000, () &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&#96;Server is starting at port 3000&#96;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œä½¿ç”¨"><a href="#è¿è¡Œä½¿ç”¨" class="headerlink" title="è¿è¡Œä½¿ç”¨"></a>è¿è¡Œä½¿ç”¨</h2><p>åœ¨ node ç¯å¢ƒä¸­å¯ä»¥ç›´æ¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node index.js</span><br></pre></td></tr></table></figure><p>é¡¹ç›®å¯åŠ¨å®Œæ¯•å°±å¯ä»¥è®¿é—®æˆ‘ä»¬åˆšåˆšå®šä¹‰çš„æ¥å£ <code>http://localhost:3000/demo</code> æ¥æŸ¥çœ‹è¿”å›ä¿¡æ¯äº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;code: 0, data: &quot;Hello World!&quot;&#125;</span><br></pre></td></tr></table></figure><h2 id="è·¨åŸŸé—®é¢˜"><a href="#è·¨åŸŸé—®é¢˜" class="headerlink" title="è·¨åŸŸé—®é¢˜"></a>è·¨åŸŸé—®é¢˜</h2><p>å‰ç«¯é¡µé¢è°ƒç”¨æ¥å£å¯èƒ½ä¼šæœ‰è·¨åŸŸé—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆæœ‰å¥½å‡ ç§ï¼Œè¿™é‡Œä»‹ç»ç®€å•ä¸€ç‚¹çš„ã€‚</p><p>å…ˆå®‰è£…ä¸€ä¸ªæ’ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install koa2-cors --save</span><br></pre></td></tr></table></figure><p>åœ¨å¯åŠ¨å…¥å£æ–‡ä»¶ <code>index.js</code> åŠ ä¸Šè¿™ä¸¤å¥å°±å¯ä»¥äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const cors = require(<span class="string">'koa2-cors'</span>);</span><br><span class="line">app.use(cors());</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨å¿ƒå¾—"><a href="#ä½¿ç”¨å¿ƒå¾—" class="headerlink" title="ä½¿ç”¨å¿ƒå¾—"></a>ä½¿ç”¨å¿ƒå¾—</h2><p>Nodejs è¿™ä¸ªè„šæœ¬è¯­è¨€è¿˜æ˜¯å¾ˆå¼ºå¤§çš„ï¼Œèƒ½å†™å‰ç«¯å°±ç®—äº†ï¼Œå±…ç„¶è¿˜èƒ½å†™æœåŠ¡ç«¯ã€‚æƒ³æƒ³ä¹‹å‰ç”¨ java çš„æ—¶å€™è¦å†™å¥½å¤šä¸œè¥¿ï¼Œè¿˜æœ‰å„ç§é…ç½®ï¼Œæœ€åæ‰“åŒ…è¿è¡ŒèŠ±è´¹å¥½é•¿æ—¶é—´ã€‚</p><p>å½“ç„¶ java æœ‰å®ƒçš„å¼ºå¤§ï¼Œå¦‚æœåªæ˜¯å­¦ä¹ å†™å†™ç®€å•çš„æ¥å£ï¼Œåƒ <code>Nodejs</code> <code>Python</code> <code>Go</code> éƒ½æœ‰å¾ˆç®€å•çš„æ“ä½œæ–¹æ³•ï¼Œä¹Ÿå¤Ÿç®€å•çš„ä½¿ç”¨äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨ Nodejs å¿«é€Ÿæ­å»ºæœåŠ¡ç«¯å¹¶æä¾›ç®€å•çš„æ¥å£ç¨‹åºã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://mojipanda.com/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Nodejs" scheme="https://mojipanda.com/tags/Nodejs/"/>
    
  </entry>
  
  <entry>
    <title>Vue-ä½¿ç”¨å…¨å±€é™æ€å¸¸é‡</title>
    <link href="https://mojipanda.com/blog/aa27/"/>
    <id>https://mojipanda.com/blog/aa27/</id>
    <published>2020-05-13T10:17:37.000Z</published>
    <updated>2020-05-14T04:39:58.152Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰å¾ˆå¤šå…±é€šçš„ä¸œè¥¿ï¼Œéœ€è¦æˆ‘ä»¬ä½¿ç”¨å…¨å±€é™æ€å¸¸é‡ã€‚åœ¨ Vue ä¸­æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿä¸€èµ·æ¥çœ‹çœ‹å§ï½</p><a id="more"></a><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æœåŠ¡ç«¯å®šä¹‰äº†æ¥å£ç»™å‰ç«¯è°ƒç”¨ï¼Œå„ä¸ªæ¨¡å—å¯èƒ½ä¼šè°ƒç”¨åˆ°ç›¸åŒçš„æ¥å£ï¼Œå³ä½¿æ˜¯ä¸åŒçš„æ¥å£ï¼Œå¦‚æœæœåŠ¡ç«¯ä¿®æ”¹äº†æ¥å£å®šä¹‰ï¼Œå‰ç«¯å°±è¦è·Ÿç€æ”¹ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœè¿™äº›å®šä¹‰åœ¨ä¸€ä¸ªæŒ‡å®šæ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªè¦ä¿®æ”¹è¿™ä¸€ä¸ªæ–‡ä»¶å°±å¥½äº†ï¼Œå…¶ä»–æ¨¡å—éƒ½å¯ä»¥è°ƒç”¨åˆ°ã€‚</p><h2 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h2><p>é¦–å…ˆåœ¨ <code>src</code> ç›®å½•æ–°å»ºæ–‡ä»¶å¤¹ <code>consts</code> å¹¶åˆ›å»º <code>index.js</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const Api &#x3D;  &#123;</span><br><span class="line">    BASE_URL: &#39;https:&#x2F;&#x2F;mojipanda.com&#39;,</span><br><span class="line">    DEMO_SHOW: &#39;&#x2F;demo&#x2F;show&#39;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    Api</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>main.js</code> ä¸­å¼•å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import App from &#39;.&#x2F;App.vue&#39;</span><br><span class="line">import router from &#39;.&#x2F;router&#39;</span><br><span class="line">import store from &#39;.&#x2F;store&#39;</span><br><span class="line">import consts from &#39;.&#x2F;consts&#39;</span><br><span class="line"></span><br><span class="line">Vue.config.productionTip &#x3D; false</span><br><span class="line">Vue.prototype.Global &#x3D; consts</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">  store,</span><br><span class="line">  router,</span><br><span class="line">  render: h &#x3D;&gt; h(App),</span><br><span class="line">&#125;).$mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure><p>ä¸»è¦æ˜¯æ·»åŠ ä¸‹é¢ä¸¤è¡Œï¼Œè¿™é‡Œ <code>Global</code> çš„åå­—å¯ä»¥ä¿®æ”¹æˆå…¶ä»–å‘½åï¼Œå½“ç„¶ <code>consts</code> æ–‡ä»¶å¤¹å‘½åä¹Ÿå¯ä»¥ä¿®æ”¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import consts from &#39;.&#x2F;consts&#39;</span><br><span class="line">Vue.prototype.Global &#x3D; consts</span><br></pre></td></tr></table></figure><p>å‡†å¤‡å·¥ä½œå·²ç»å®Œæˆï¼Œæ¥ä¸‹æ¥åªè¦é€šè¿‡ä¸‹é¢çš„è¯­å¥å°±å¯ä»¥è·å–åˆ°æˆ‘ä»¬åœ¨ <code>consts/index.js</code> ä¸­å®šä¹‰çš„å¸¸é‡äº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.Global.Api.BASE_URL</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨å¿ƒå¾—"><a href="#ä½¿ç”¨å¿ƒå¾—" class="headerlink" title="ä½¿ç”¨å¿ƒå¾—"></a>ä½¿ç”¨å¿ƒå¾—</h2><p>æ€»ä½“æ„Ÿè§‰è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå¯¹äº <code>consts/index.js</code>ï¼Œå½“å¸¸é‡è¶Šæ¥è¶Šå¤šï¼Œä¹Ÿæ˜¯ä¸æ–¹ä¾¿ç®¡ç†çš„ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œæ‹†åˆ†ã€‚å¯¹ä¾‹å­ä¸­çš„ <code>Api</code> æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>consts</code> æ–‡ä»¶å¤¹æ–°å»ºä¸€ä¸ª <code>api.js</code>ï¼Œåœ¨è¿™é‡Œå®šä¹‰å¸¸é‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const Api &#x3D; &#123;</span><br><span class="line">    BASE_URL: &#39;https:&#x2F;&#x2F;mojipanda.com&#39;,</span><br><span class="line">    DEMO_SHOW: &#39;&#x2F;demo&#x2F;show&#39;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Api</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>consts/index.js</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import Api from &#39;@&#x2F;consts&#x2F;api&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    Api</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ‹†åˆ†å°±å®Œæˆäº†ï¼Œå½“æˆ‘ä»¬éœ€è¦æ–°å¢å…¶ä»–ç±»å‹çš„å¸¸é‡ï¼Œåªè¦å†æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¹¶åœ¨ <code>consts/index.js</code> å¼•å…¥å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ‰å¾ˆå¤šå…±é€šçš„ä¸œè¥¿ï¼Œéœ€è¦æˆ‘ä»¬ä½¿ç”¨å…¨å±€é™æ€å¸¸é‡ã€‚åœ¨ Vue ä¸­æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿä¸€èµ·æ¥çœ‹çœ‹å§ï½&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://mojipanda.com/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Vue" scheme="https://mojipanda.com/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Vue-çŠ¶æ€ç®¡ç†æ¨¡å¼Vuex</title>
    <link href="https://mojipanda.com/blog/6604/"/>
    <id>https://mojipanda.com/blog/6604/</id>
    <published>2020-05-13T08:35:32.000Z</published>
    <updated>2020-05-13T10:30:29.539Z</updated>
    
    <content type="html"><![CDATA[<p>ç®€å•ä»‹ç»ä¸€ä¸‹åœ¨ Vue é¡¹ç›®ä¸­å¦‚ä½•ä½¿ç”¨ Vuex å®ç°çŠ¶æ€ç®¡ç†ã€‚æ¯”å¦‚æˆ‘ä»æœåŠ¡ç«¯è·å–çš„ä¸ªäººä¿¡æ¯ï¼Œæœ‰å¾ˆå¤šæ¨¡å—éƒ½ç”¨åˆ°ï¼Œè¿™ä¸ªæ—¶å€™ç›¸å½“äºå…¨å±€å­˜å‚¨ï¼Œæ–¹ä¾¿å„ä¸ªæ¨¡å—è°ƒç”¨ã€‚</p><a id="more"></a><blockquote><p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚</p></blockquote><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æˆ‘åœ¨å­¦ä¹ ä½¿ç”¨ <code>Vue</code> çš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°äº†ä¸€ä¸ªå­˜å‚¨é—®é¢˜ï¼Œåœ¨ç™»å½•çš„æ—¶å€™è·å–åˆ°ä¸ªäººä¿¡æ¯ï¼Œæˆ‘éœ€è¦åœ¨å¤šä¸ªæ¨¡å—å±•ç¤ºï¼Œå®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯å¼„ä¸ªå…¨å±€å˜é‡ï¼Œå„ä¸ªæ¨¡å—éƒ½æ–¹ä¾¿è°ƒç”¨ã€‚è¿™ä¸ªæ—¶å€™æˆ‘æŸ¥åˆ°äº† <code>Vuex</code>ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ã€‚</p><h2 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h2><p>å…ˆå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex --save</span><br></pre></td></tr></table></figure><p>ä¸ºäº†ç»“åˆ <code>cookie</code> ä½¿ç”¨æˆ‘ä»¬è¿˜å¯ä»¥å®‰è£…ä¸€ä¸‹ <code>vue-cookies</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-cookies --save</span><br></pre></td></tr></table></figure><p>åœ¨ <code>src</code> æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹ <code>store</code> å¹¶æ–°å»ºæ–‡ä»¶ <code>index.js</code></p><p>ä¸¾ä¸ªä¾‹å­ç”¨ï¼Œå…ˆä¸Šä»£ç ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;;</span><br><span class="line">import Vuex from &#39;vuex&#39;;</span><br><span class="line">import cookie from &#39;vue-cookies&#39;;</span><br><span class="line"></span><br><span class="line">Vue.use(Vuex);</span><br><span class="line">const store &#x3D; new Vuex.Store(&#123;</span><br><span class="line">    state: &#123;</span><br><span class="line">        userInfo: &#123;&#125;,</span><br><span class="line">        isLogin: cookie.get(&#39;isLogin&#39;)</span><br><span class="line">    &#125;,</span><br><span class="line">    getters: &#123;</span><br><span class="line">        userInfo: state &#x3D;&gt; state.userInfo,</span><br><span class="line">        isLogin: state &#x3D;&gt; state.isLogin</span><br><span class="line">    &#125;,</span><br><span class="line">    mutations: &#123;</span><br><span class="line">        setUserInfo(state, data) &#123;</span><br><span class="line">            state.userInfo &#x3D; data;</span><br><span class="line">        &#125;,</span><br><span class="line">        setLoginState(state, data) &#123;</span><br><span class="line">            state.isLogin &#x3D; data;</span><br><span class="line">            cookie.set(&#39;isLogin&#39;, data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    actions: &#123;</span><br><span class="line">        setUserInfo(&#123; commit &#125;, data) &#123;</span><br><span class="line">            commit(&#39;setUserInfo&#39;, data);</span><br><span class="line">        &#125;,</span><br><span class="line">        setLoginState(&#123; commit &#125;, data) &#123;</span><br><span class="line">            commit(&#39;setLoginState&#39;, data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default store;</span><br></pre></td></tr></table></figure><p>åœ¨ <code>main.js</code> ä¸­å°† <code>store</code> å¼•å…¥è¿›æ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import App from &#39;.&#x2F;App.vue&#39;</span><br><span class="line">import router from &#39;.&#x2F;router&#39;</span><br><span class="line">import store from &#39;.&#x2F;store&#39;</span><br><span class="line"></span><br><span class="line">Vue.config.productionTip &#x3D; false</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">  store,</span><br><span class="line">  router,</span><br><span class="line">  render: h &#x3D;&gt; h(App),</span><br><span class="line">&#125;).$mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure><h2 id="ä»£ç åˆ†æ"><a href="#ä»£ç åˆ†æ" class="headerlink" title="ä»£ç åˆ†æ"></a>ä»£ç åˆ†æ</h2><p>åœ¨ <code>store/index.js</code> æ–‡ä»¶ä¸­</p><p><code>state</code> è¡¨ç¤ºè¦è¦ç®¡ç†çš„çŠ¶æ€ï¼Œä»¥ key-value é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨ã€‚</p><p><code>getters</code> æ˜¯æä¾›æˆ‘ä»¬è·å–çŠ¶æ€çš„å…¥å£ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¯­å¥è·å–ä¿¡æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let userInfo &#x3D; this.$store.getters.userInfo;</span><br></pre></td></tr></table></figure><p><code>mutations</code> æ˜¯ç”¨æ¥ä¿®æ”¹ <code>state</code> ç®¡ç†çš„å€¼ã€‚</p><p><code>actions</code> æ”¯æŒå¼‚æ­¥æ“ä½œï¼Œå®˜æ–¹ç®€æ˜“é€šè¿‡è¿™é‡Œæäº¤ä¿®æ”¹ä¿¡æ¯ï¼Œæœ€ç»ˆä¼šè°ƒç”¨ <code>mutations</code>ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¯­å¥ä¿®æ”¹ä¿¡æ¯ï¼Œè¿™é‡Œå°±æ˜¯è°ƒç”¨çš„ <code>actions</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$store.dispatch(&quot;setLoginState&quot;, true);</span><br></pre></td></tr></table></figure><h2 id="æœ¬åœ°å­˜å‚¨"><a href="#æœ¬åœ°å­˜å‚¨" class="headerlink" title="æœ¬åœ°å­˜å‚¨"></a>æœ¬åœ°å­˜å‚¨</h2><p>ä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•æ“ä½œä¹‹åï¼Œæˆ‘å‘ç°åˆ·æ–°ä¸€ä¸‹é¡µé¢å°±ä¼šå¯¼è‡´ä¹‹å‰å­˜å‚¨çš„çŠ¶æ€å…¨éƒ¨ä¸¢å¤±ã€‚ç„¶åæ‰¾åˆ°äº†ä¸‹é¢çš„è§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯åœ¨ <code>localStorage</code> ä¸­å­˜å‚¨ <code>store</code> çš„å€¼ï¼Œåˆ›å»ºçš„æ—¶å€™å†è·å–ã€‚è¿™æ ·å‰ç«¯çš„çŠ¶æ€ä¿¡æ¯å°±ä¸ä¼šä¸¢äº†ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;router-view &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    if (localStorage.getItem(&quot;store&quot;)) &#123;</span><br><span class="line">      this.$store.replaceState(</span><br><span class="line">        Object.assign(</span><br><span class="line">          &#123;&#125;,</span><br><span class="line">          this.$store.state,</span><br><span class="line">          JSON.parse(localStorage.getItem(&quot;store&quot;))</span><br><span class="line">        )</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">    window.addEventListener(&quot;beforeunload&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">      localStorage.setItem(&quot;store&quot;, JSON.stringify(this.$store.state));</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><table><thead><tr><th>ç‰¹æ€§</th><th>æ•°æ®ç”Ÿå‘½å‘¨æœŸ</th><th>æ•°æ®å­˜æ”¾å¤§å°</th><th>ä¸æœåŠ¡å™¨é€šä¿¡</th></tr></thead><tbody><tr><td>cookie</td><td>ä¸€èˆ¬ç”±æœåŠ¡å™¨ç”Ÿæˆï¼Œå¯è®¾ç½®å¤±æ•ˆæ—¶é—´ã€‚å¦‚æœåœ¨æµè§ˆå™¨ç«¯ç”ŸæˆCookieï¼Œé»˜è®¤æ˜¯å…³é—­æµè§ˆå™¨åå¤±æ•ˆ</td><td>4Kå·¦å³</td><td>æ¯æ¬¡éƒ½ä¼šæºå¸¦åœ¨HTTPå¤´ä¸­ï¼Œå¦‚æœä½¿ç”¨cookieä¿å­˜è¿‡å¤šæ•°æ®ï¼Œä¼šå¸¦æ¥æ€§èƒ½é—®é¢˜</td></tr><tr><td>sessionStorage</td><td>ä»…åœ¨å½“å‰ä¼šè¯ä¸‹æœ‰æ•ˆï¼Œå…³é—­é¡µé¢æˆ–æµè§ˆå™¨åè¢«æ¸…é™¤</td><td>ä¸€èˆ¬5M</td><td>ä»…åœ¨æµè§ˆå™¨ä¸­ä¿å­˜ï¼Œä¸å‚ä¸å’ŒæœåŠ¡å™¨çš„é€šä¿¡</td></tr><tr><td>localStorage</td><td>é™¤éè¢«æ¸…é™¤ï¼Œå¦åˆ™æ°¸ä¹…ä¿å­˜</td><td>åŒä¸Š</td><td>åŒä¸Š</td></tr></tbody></table><h2 id="ä½¿ç”¨å¿ƒå¾—"><a href="#ä½¿ç”¨å¿ƒå¾—" class="headerlink" title="ä½¿ç”¨å¿ƒå¾—"></a>ä½¿ç”¨å¿ƒå¾—</h2><p>å½“ <code>store/index.js</code> ç®¡ç†çš„çŠ¶æ€è¶Šæ¥è¶Šå¤šæ—¶ï¼Œè¿™ä¸ªæ–‡ä»¶è‚¯å®šä¼šå¾ˆé•¿ï¼Œä¸æ–¹ä¾¿ç»´æŠ¤ã€‚å¯ä»¥å°† <code>getters</code> <code>mutations</code> <code>actions</code> å•ç‹¬æ‹†åˆ†å‡ºæ¥ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç®€å•ä»‹ç»ä¸€ä¸‹åœ¨ Vue é¡¹ç›®ä¸­å¦‚ä½•ä½¿ç”¨ Vuex å®ç°çŠ¶æ€ç®¡ç†ã€‚æ¯”å¦‚æˆ‘ä»æœåŠ¡ç«¯è·å–çš„ä¸ªäººä¿¡æ¯ï¼Œæœ‰å¾ˆå¤šæ¨¡å—éƒ½ç”¨åˆ°ï¼Œè¿™ä¸ªæ—¶å€™ç›¸å½“äºå…¨å±€å­˜å‚¨ï¼Œæ–¹ä¾¿å„ä¸ªæ¨¡å—è°ƒç”¨ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://mojipanda.com/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Vue" scheme="https://mojipanda.com/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Vue-é›†æˆAdminLTE</title>
    <link href="https://mojipanda.com/blog/3c0d/"/>
    <id>https://mojipanda.com/blog/3c0d/</id>
    <published>2020-05-12T04:03:52.000Z</published>
    <updated>2020-05-13T08:36:05.272Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»‹ç»ä½¿ç”¨ <code>vue-cli3</code> é›†æˆ <code>AdminLTE-2.4.18</code></p><a id="more"></a><blockquote><p>AdminLTE æ˜¯åŸºäº Bootstrap çš„å¼€æºå“åº”å¼å‰ç«¯æ¨¡æ¿ã€‚</p></blockquote><p>æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢è¿™å¥—æ¨¡æ¿çš„åŸå› ä¸»è¦æœ‰ï¼š</p><ul><li>ç¾è§‚ï¼Œä¼—å¤šæ¨¡æ¿ä¸­ä¸€çœ¼å°±çœ‹ä¸­å®ƒäº†</li><li>å¼€æºå…è´¹</li><li>å“åº”å¼æ”¯æŒå¾ˆå¥½</li></ul><p>æˆ‘ä¸æ˜¯å‰ç«¯å¼€å‘äººå‘˜ï¼Œææ ·å¼è¿™ç§ç¹ççš„äº‹æƒ…è¿˜æ˜¯äº¤ç»™ç°æˆçš„å§ã€‚è™½ç„¶ AdminLTE3 ä¹Ÿå‘å¸ƒäº†ï¼Œä½†æ˜¯çœ‹èµ·æ¥ä¸ªäººæ„Ÿè§‰æ²¡æœ‰ AdminLTE2å¥½ï¼Œå“åº”å¼å¤„ç†ä¹Ÿæœ‰ç‚¹é—®é¢˜ã€‚æ„Ÿå…´è¶£å¯ä»¥å»å®˜ç½‘çœ‹çœ‹ä¸åŒç‰ˆæœ¬çš„æ•ˆæœã€‚</p><h2 id="ä½¿ç”¨vue-cli3åˆ›å»ºé¡¹ç›®"><a href="#ä½¿ç”¨vue-cli3åˆ›å»ºé¡¹ç›®" class="headerlink" title="ä½¿ç”¨vue-cli3åˆ›å»ºé¡¹ç›®"></a>ä½¿ç”¨vue-cli3åˆ›å»ºé¡¹ç›®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br><span class="line">vue create my-project</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–é¡¹ç›®æ­¥éª¤å°±ä¸ä»‹ç»äº†ï¼ŒæŒ‰ç…§vue-cliä¸€æ­¥æ­¥æ“ä½œå°±å®Œæˆäº†ã€‚</p><h2 id="å¼•å…¥AdminLTE"><a href="#å¼•å…¥AdminLTE" class="headerlink" title="å¼•å…¥AdminLTE"></a>å¼•å…¥AdminLTE</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬å…ˆå®‰è£… <code>admin-lte</code> ä¾èµ–åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i admin-lte@2.4.18 --save</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>public/index.html</code> ç»™ body åŠ ä¸Šæ ·å¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;body class&#x3D;&quot;hold-transition skin-blue sidebar-mini&quot;&gt;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>src/main.js</code></p><figure class="highlight plain"><figcaption><span>src/main.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import App from &#39;.&#x2F;App.vue&#39;</span><br><span class="line"></span><br><span class="line">import &#39;admin-lte&#x2F;bower_components&#x2F;bootstrap&#x2F;dist&#x2F;css&#x2F;bootstrap.min.css&#39;</span><br><span class="line">import &#39;admin-lte&#x2F;bower_components&#x2F;font-awesome&#x2F;css&#x2F;font-awesome.min.css&#39;</span><br><span class="line">import &#39;admin-lte&#x2F;bower_components&#x2F;Ionicons&#x2F;css&#x2F;ionicons.min.css&#39;</span><br><span class="line">import &#39;admin-lte&#x2F;dist&#x2F;css&#x2F;skins&#x2F;_all-skins.min.css&#39;</span><br><span class="line">import &#39;admin-lte&#x2F;dist&#x2F;css&#x2F;AdminLTE.min.css&#39;</span><br><span class="line">import &#39;admin-lte&#x2F;bower_components&#x2F;bootstrap&#x2F;dist&#x2F;js&#x2F;bootstrap.min.js&#39;</span><br><span class="line">import &#39;admin-lte&#x2F;dist&#x2F;js&#x2F;adminlte.min.js&#39;</span><br><span class="line"></span><br><span class="line">Vue.config.productionTip &#x3D; false</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">  render: h &#x3D;&gt; h(App),</span><br><span class="line">&#125;).$mount(&#39;#app&#39;)</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>src/App.vue</code></p><figure class="highlight plain"><figcaption><span>src/App.vue</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><p>å¼•å…¥éƒ¨åˆ†åˆ°è¿™é‡Œå°±å®Œæˆäº†ï¼Œæ–°é¡µé¢éœ€è¦æ–°å»ºæ¨¡æ¿æ–‡ä»¶ï¼Œå¯¹ç…§æºç å¤åˆ¶å°±å¥½äº†ã€‚<br>ç©ºç™½æ¨¡æ¿å¯ä»¥æŸ¥çœ‹ admin-lte æºç åŒ…é‡Œçš„ <code>starter.html</code>ï¼ŒæŠŠ body é‡Œé¢çš„ <code>&lt;div class=&quot;wrapper&quot;&gt;...&lt;/div&gt;</code> éƒ¨åˆ†æ‹·è´åˆ°æ–°å»ºçš„é¡µé¢ <code>&lt;template&gt;&lt;/template&gt;</code> ä¸­ã€‚</p><h2 id="å¯åŠ¨é¢„è§ˆ"><a href="#å¯åŠ¨é¢„è§ˆ" class="headerlink" title="å¯åŠ¨é¢„è§ˆ"></a>å¯åŠ¨é¢„è§ˆ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run serve</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™ç½‘é¡µè¿˜æœ‰é”™è¯¯ï¼ŒBootstrap éœ€è¦å¼•å…¥ JQueryï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ <code>vue.config.js</code> é…ç½®ä¸€ä¸‹å°±è¡Œäº†ã€‚</p><figure class="highlight plain"><figcaption><span>vue.config.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const webpack &#x3D; require(&#39;webpack&#39;);</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    configureWebpack: &#123;</span><br><span class="line">        plugins: [</span><br><span class="line">            new webpack.ProvidePlugin(&#123;</span><br><span class="line">                $: &#39;jquery&#39;,</span><br><span class="line">                jQuery: &#39;jquery&#39;,</span><br><span class="line">                &#39;window.jQuery&#39;: &#39;jquery&#39;</span><br><span class="line">            &#125;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨å¿ƒå¾—"><a href="#ä½¿ç”¨å¿ƒå¾—" class="headerlink" title="ä½¿ç”¨å¿ƒå¾—"></a>ä½¿ç”¨å¿ƒå¾—</h2><p>ç”±äºè¦å¯¹ç…§é¢„è§ˆæ ·å¼æ¥æŸ¥çœ‹è‡ªå·±æƒ³è¦çš„ç»„ä»¶ï¼Œæˆ‘å…ˆä¸‹è½½äº†ä¸€ä»½æºç ï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <code>index.html</code>ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥çœ‹åˆ°å®˜æ–¹æä¾›çš„æ‰€æœ‰çš„ç»„ä»¶æ ·å¼ï¼Œç„¶åæµè§ˆå™¨å³é”®æ˜¾ç¤ºç½‘é¡µæºä»£ç ï¼Œå°±å¯ä»¥æ‰¾åˆ°éœ€è¦çš„ç»„ä»¶çš„ä»£ç æ˜¯æ€ä¹ˆå†™çš„äº†ã€‚</p><p>ä¸ºäº†åç»­ä½¿ç”¨æ–¹ä¾¿ï¼Œå› ä¸ºæœ‰ä¸å°‘ç»„ä»¶éƒ½æ˜¯é€šç”¨çš„ï¼Œæ‰€ä»¥æˆ‘å°†å„éƒ¨åˆ†ç»„ä»¶æ‹†å¼€äº†ï¼Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;wrapper&quot;&gt;</span><br><span class="line">    &lt;Header &#x2F;&gt;</span><br><span class="line">    &lt;MainSidebar &#x2F;&gt;</span><br><span class="line">    &lt;ContentWrapper &#x2F;&gt;</span><br><span class="line">    &lt;Footer &#x2F;&gt;</span><br><span class="line">    &lt;ControlSidebar &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure><p>ç”±äº ContentWrapper éƒ¨åˆ†æ˜¯æ¯ä¸ªé¡µé¢ç‹¬æœ‰çš„ï¼Œå¯ä»¥åšæˆè·¯ç”±ï¼Œè¿™æ ·æ–°å†™é¡µé¢æ—¶åªè¦å†™è¿™éƒ¨åˆ†å°±è¡Œäº†ï¼Œå¤´éƒ¨åº•éƒ¨ï¼Œèœå•å¯¼èˆªä¹‹ç±»çš„éƒ½ä¸ç”¨ä¿®æ”¹ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- Content Wrapper. Contains page content --&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;content-wrapper&quot;&gt;</span><br><span class="line">    &lt;router-view &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;!-- &#x2F;.content-wrapper --&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡ä»‹ç»ä½¿ç”¨ &lt;code&gt;vue-cli3&lt;/code&gt; é›†æˆ &lt;code&gt;AdminLTE-2.4.18&lt;/code&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://mojipanda.com/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="Vue" scheme="https://mojipanda.com/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>èƒ¡è¨€ä¹±è¯­</title>
    <link href="https://mojipanda.com/blog/8827/"/>
    <id>https://mojipanda.com/blog/8827/</id>
    <published>2020-05-10T15:45:21.000Z</published>
    <updated>2020-05-19T08:05:33.109Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯äº²èŠ‚å¿«ä¹ï½</p><a id="more"></a><p>ä¸€æ™ƒï¼Œå·¥ä½œå·²ç»å¿«5å¹´äº†ï¼Œç®—å¾—ä¸Šæ˜¯ä¸­é•¿çš„å·¥ä½œå¹´é¾„äº†å§ï¼ç–«æƒ…çš„åŸå› ï¼Œä»Šå¹´è¿‡å¹´ä¼‘æ¯äº†1ä¸ªå¤šæœˆï¼Œ3æœˆä»½å›å—äº¬ï¼ŒåŸå…ˆå®‰æ’çš„åŒäº‹æœ‰å…¶ä»–å·¥ä½œï¼Œä¸´æ—¶è¢«ä½œä¸ºæ›¿è¡¥çš„ï¼Œå®‰æ’è·Ÿäº†å®¡è®¡å…çš„é¡¹ç›®ï¼Œå·¥ä½œä¹Ÿæ¸æ¸å¿™ç¢Œèµ·æ¥äº†</p><p>æŒ‰ç†ï¼Œåº”è¯¥æ˜¯ä¼‘æ¯æœŸé—´å†™ç‚¹å•¥çš„ï¼Œåªæ˜¯ï¼Œå•¥éƒ½æ²¡å†™ï¼Œä½ è¯´æœŸé—´éƒ½å¹²äº†å•¥ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œå¥½åƒå°±æ˜¯åƒé¥­ï¼Œç¡è§‰ï¼Œå¸¦å¨ƒï¼Œæœ‰æ—¶å·¥ä½œï¼Œä¸€å¤©å¤©ä¹Ÿéƒ½è¿‡å»äº†ï¼Œæœ€è¿‘å·¥ä½œå¿™ç¢Œèµ·æ¥äº†ï¼Œåè€Œæƒ³å†™ç‚¹å•¥</p><p>ä¸€ç›´åœ¨å­¦æ ¡ï¼Œæ¥è§¦å¤–ç•Œä¸å¤šï¼ŒåŠ ä¸Šå·¥ä½œæ€§è´¨åŸå› ï¼Œè§ä¸–é¢ç›¸å¯¹æ›´çª„äº†ï½å¾ˆå¤šæ—¶å€™ï¼Œæ„Ÿè§‰å·²ç»åƒæ¸©æ°´ç…®é’è›™ï¼Œæˆ‘å°±æ˜¯é‚£åªé’è›™ğŸ¸ï¼›å•¥éƒ½æ²¡å˜ï¼Œåªæ˜¯ï¼Œå°‘äº†å½“åˆåˆšå¼€å§‹çš„æ¿€æƒ…å’ŒåŠ¨åŠ›ï¼Œä¸å¾—ä¸è¯´ï¼Œè¿™æ˜¯å¯è€»çš„ï¼Œä¹Ÿæ˜¯ææ€–çš„ï¼Œä¸æŠ˜ä¸æ‰£çš„æˆäº†ä¸€ä¸ªæ²¡æœ‰æƒ…è°ƒã€æ²¡æœ‰æ¢¦æƒ³çš„è¡Œå°¸èµ°è‚‰ï½</p><p>æµ·è±šå®å®å·²ç»å¿«ä¸¤å²äº†ï¼Œå¦‚æœè¯´çˆ¶æ¯çš„é«˜åº¦å†³å®šå­å¥³çš„é«˜åº¦ï¼Œä¼¼ä¹å·²ç»æƒ³è±¡åˆ°ä»–çš„æœªæ¥ï¼Œæœ‰ç‚¹ææ…Œï¼›å†å›å¤´çœ‹çœ‹è‡ªå·±ï¼Œä¸çŸ¥è§‰ä¸­ï¼Œå¾ˆå¤šéƒ½å·²ç»å¤±å»äº†å…´è¶£ï¼Œå¤¸å¼ ç‚¹ï¼Œä¸ç¤¾ä¼šä¼¼ä¹è„±èŠ‚äº†å·²ç»ï¼Œè¦èµ„äº§ï¼Œä¸å¥½æ„æ€ï¼Œæœ¨çš„ï¼›è¦åº•è•´ï¼Œä¸å¥½æ„æ€ï¼Œæœ¨çš„ï¼›è¦èƒ½åŠ›ï¼Œä¸å¥½æ„æ€ï¼Œè¿˜æ˜¯æœ¨çš„â€¦â€¦åˆ«äººå¢é•¿çš„æ˜¯çŸ¥è¯†ä¸é˜…å†ï¼Œè€Œæˆ‘å”¯ä¸€å¢é•¿çš„æ˜¯æ¸æ¸ä¸Šè°ƒçš„å¹´é¾„æ•°å­—ï¼Œè¿™ä¹ˆå¤šå¹´ï¼Œæˆ‘éƒ½å¹²ä»€ä¹ˆäº†ï¼Ÿ</p><p>æˆ–è®¸ä»¥å‰ä¸€ç›´æ˜¯é‚£åªé’è›™ï¼Œæ²¡æœ‰å¤ªå¯Ÿè§‰è½å·®ï¼Œè€Œè¿™æ¬¡å‡ºæ¥ï¼Œæ¥è§¦åˆ°äº†ä¸åŒçš„äººï¼Œæ¥è§¦åˆ°äº†ä¸åŒçš„äº‹ï¼Œè¿™ç§å¯¹æ¯”å’Œè½å·®æ›´åŠ æš´éœ²æ— é—ï¼Œç›¸å½¢è§ç»Œï½</p><p>ä¸”ä¸è¯´èµ„æœ¬çš„å·®è·ï¼Œä¹Ÿä¸è¯´ä¸šåŠ¡èƒ½åŠ›çš„å·®è·ï¼Œå•è®ºæœ€ç›´ç™½çš„æ²Ÿé€šäº¤æµèƒ½åŠ›å§ï¼Œæ¯ä¸ªäººçš„è¡Œäº‹ä½œé£æˆ–è®¸éƒ½ä¸ä¸€è‡´ï¼Œä½†æ˜¯ï¼Œçš„ç¡®ç¬¦åˆä¸€ä¸ªå®šå¾‹ï¼Œå½“ä½ çš„çŸ¥è¯†é¢å¤Ÿå¹¿æ—¶ï¼Œä½ å¯ä»¥å¸¦åŠ¨è¯é¢˜çš„èµ°å‘ï¼Œå¯ä»¥ä»ä»–äººçš„å™è¿°ä¸­æ‹©å–åˆ°ä½ æƒ³è¦çš„ä¿¡æ¯ï¼Œç­›é€‰å‡ºæœ‰ç”¨çš„ä¿¡æ¯ï¼›è€Œå½“ä½ çš„çŸ¥è¯†ç§¯ç´¯åŠä¸“ä¸šæ°´å¹³è¿œè¿œè¶…è¶Šå¯¹æ–¹æ—¶ï¼Œæˆ–è®¸ä¸èƒ½å®ç°æ¯ä¸€å¥éƒ½æ˜¯çœŸç†ï¼Œä½†æ˜¯è‡³å°‘å¯ä»¥å®ç°å³ä¾¿ä½ æ˜¯åœ¨æŒ‘å¯¹æ–¹çš„é”™ï¼Œä¹Ÿå¯ä»¥è®©å¯¹æ–¹å¿ƒæ‚¦è¯šæœçš„è®¤ç†ï½å¾ˆå¤šæ—¶å€™ï¼Œç›²ç›®çš„èŠå¤©ï¼Œæˆ‘å¬ä¸åˆ°å•¥æˆ–è€…éƒ½å¬åˆ°äº†ï¼Œå´ä¸çŸ¥é“æ˜¯å•¥ï¼Œä½†æ˜¯ä»–ä»¬å´å¯ä»¥æ•é”çš„æç‚¼å‡ºæœ‰ç”¨çš„ä¿¡æ¯ï¼Œè¿™æ˜¯è½å·®ä¹‹ä¸€ï¼›æœ‰æ—¶å€™ä¸ä»–äººæ²Ÿé€šï¼Œæˆ‘å®Œå…¨ç›²ç›®åº”è¯¥å¦‚ä½•å¸¦åŠ¨è¯é¢˜ï¼Œåªèƒ½å¬ç€ï¼Œæˆ–è€…ï¼Œå°±æ­¤æ²‰é»˜ï¼Œè€Œä»–ä»¬ï¼Œå¯ä»¥è®©è¯é¢˜ä¸€ç›´ä¸åœï¼Œè¿™æ˜¯è½å·®ä¹‹äºŒï¼›æœ‰æ—¶å€™æå‡ºå¯¹æ–¹ä¸è¶³ï¼Œæˆ‘å¯èƒ½æœ€åæ˜¯è¢«è¯´æœçš„ä¸€æ–¹æˆ–è€…æ˜¯æé«˜éŸ³é‡çš„ä¸€æ–¹ï¼Œè€Œä»–ä»¬å¯ä»¥åšåˆ°ä¸€ç›´æ˜¯å¹³æ·¡æ¸©å’Œçš„è¯­æ°”ï¼Œå¸¦åŠ¨å¯¹æ–¹è·Ÿä¸Šä»–ä»¬çš„æ€è·¯ï¼Œè¿™æ˜¯è½å·®ä¹‹ä¸‰â€¦â€¦æ¯”å¦‚è¯´ï¼Œç»å¸¸ä¼šè¢«å®¡è®¡å•ä½æ˜¯å¸¦ç€ä¸€è‚šå­çš„ä¸æ»¡å’Œç†ç”±è¿‡æ¥çš„ï¼Œæœ‰æ—¶å€™é˜µåŠ¿æŒºå¤§ï¼Œç”šè‡³æœ‰ç‚¹æ•™è®­çš„æ°”åœºï¼Œä½†æœ€åéƒ½è¢«ä»–ä»¬ä»¥äº‘æ·¡é£è½»çš„æ°”åœºå’Œæ¸©æ¶¦å¦‚ç‰çš„è¯­å¥ç»™è¯´æœäº†ï½æƒ³æƒ³å¦‚æœæ˜¯æˆ‘ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œè¦ä¹ˆæ˜¯è¢«å¯¹æ–¹è¯´æœï¼Œè¦ä¹ˆæ˜¯ä¸å¯¹æ–¹äº‰åµï¼Œæˆ‘æ‰€èƒ½åšçš„å¾€å¾€æ˜¯æ— è¯å¯è¯´æˆ–è€…æ˜¯æå‡éŸ³é‡ï¼Œè½å·®ç€å®å¤§ï½</p><p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¹‹æ‰€ä»¥è¿·èŒ«ã€å½·å¾¨ï¼Œåªæ˜¯å› ä¸ºèƒ½åŠ›æ¬ ä½³ã€æ¬²æœ›å¤ªå¤šï¼Œæƒ³æƒ³ï¼Œç¡®å®æœ‰ç‚¹ç¬¦åˆè‡ªå·±çš„ç°çŠ¶ï½ä¼ è¯´ä¸­çš„ï¼šèƒ½åŠ›æ’‘ä¸èµ·é‡å¿ƒï½å¿ƒæ€æ¶ŒåŠ¨ï¼Œèƒ½åŠ›æ¬ ç¼ºï½</p><p>ç°åœ¨çš„è‡ªå·±å·²ç»æ˜¯ä¸‰ä¸ªèº«ä»½ï¼šä¸€ä¸ªæ˜¯å¥³å„¿ï¼Œä¸€ä¸ªæ˜¯æ¯äº²ï¼Œä¸€ä¸ªæ˜¯å¦»å­ï½äºå¥³å„¿ï¼Œè¦æœ‰å­ï¼Œäºæ¯äº²ï¼Œè¦æ‹…è´£ï¼Œäºå¦»å­ï¼Œè¦æœ‰è´£ï½å¦‚æœè¯´ä¿¡å‘½ï¼Œé‚£ä¹ˆï¼Œä¹Ÿå°±è®¤äº†ï¼›ä½†æ˜¯ï¼ŒçœŸå¿ƒæ˜¯æ²¡æœ‰æ‹¿çš„å‡ºæ‰‹çš„äº®ç‚¹ï¼Œæ˜æ˜¾æ˜¯è‡ªå·±å¤±è´£â€¦â€¦å—¯ï¼Œè¿˜æ˜¯åº”è¯¥åšç‚¹å•¥å§ï¼Œå¯ä»¥æƒ³æƒ³ï½</p><p>å½“ç„¶ï¼Œä»Šå¤©æ˜¯æ¯äº²èŠ‚ï¼Œè¿˜æ˜¯è¦è¯´ä¸€å¥ï¼Œæ‰€æœ‰å¦ˆå¦ˆä»¬ï¼Œæ¯äº²èŠ‚å¿«ä¹ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ¯äº²èŠ‚å¿«ä¹ï½&lt;/p&gt;
    
    </summary>
    
    
      <category term="å¿ƒæƒ…ç‰©è¯­" scheme="https://mojipanda.com/categories/%E5%BF%83%E6%83%85%E7%89%A9%E8%AF%AD/"/>
    
    
      <category term="å¿ƒæƒ…" scheme="https://mojipanda.com/tags/%E5%BF%83%E6%83%85/"/>
    
  </entry>
  
  <entry>
    <title>å®å®æ•™çˆ¸çˆ¸å¿«æ·è¾“å…¥</title>
    <link href="https://mojipanda.com/blog/7055/"/>
    <id>https://mojipanda.com/blog/7055/</id>
    <published>2020-05-09T12:53:45.000Z</published>
    <updated>2020-05-19T08:05:04.008Z</updated>
    
    <content type="html"><![CDATA[<p>å®å®åœ¨çˆ¸çˆ¸çš„ç”µè„‘ä¸Šéšä¾¿ä¹±æŒ‰ï¼Œæ„å¤–æ•™ä¼šäº†çˆ¸çˆ¸ä¸€ç§å¿«æ·è¾“å…¥æ–¹å¼ã€‚</p><a id="more"></a><p>äº‹æƒ…ä¸Šè¿™æ ·çš„ï¼Œæˆ‘çš„è‹¹æœç¬”è®°æœ¬æ‰“å¼€åœ¨ä¸€æ—ï¼Œå¼€ç€ä¸€ä¸ªæµè§ˆå™¨çš„ç©ºç™½é¡µï¼Œæ­£åœ¨æ€ç´¢ç€æŸ¥ç‚¹èµ„æ–™ï¼Œç„¶åä¸´æ—¶æœ‰äº‹ç¦»å¼€äº†åº§ä½ã€‚</p><p>åˆšèµ°å‡ºæˆ¿é—¨æ²¡ä¸€ä¼šï¼Œå°±çœ‹è§å®å®å…´å†²å†²çš„è¶´ä¸Šæˆ‘çš„ç”µè„‘ï¼Œä¸€è¾¹å–Šç€â€œå¸®å¿™ï¼Œå¸®å¿™â€ï¼Œä¸€è¾¹åœ¨é”®ç›˜ä¸Šéšä¾¿ä¹±æŒ‰ã€‚æ¥ç€å°±çœ‹åˆ°äº†ä¸‹é¢è¿™ä¸ªæ ·å­ã€‚</p><p><img src="/img/loading.svg" data-original="https://cdn.jsdelivr.net/gh/cocosongying/cdn-assets/blog/7055/01.png" alt></p><p>å¥½åƒä¹Ÿæ²¡å•¥æ˜¯å§ï¼Œå°±æ˜¯æµè§ˆå™¨é‡Œè¾“å…¥é‡Œå‡ ä¸ªå­—ç¬¦è€Œå·²ã€‚å†ä»”ç»†çœ‹çœ‹ï¼Œè¿™ä¸ªå¤§äºç­‰äºå·ï¼Œè¿˜æœ‰è¿™ä¸ªé™¤å·æ˜¯æ€ä¹ˆæ•²å‡ºæ¥çš„ã€‚</p><p>æˆ‘æ€ç´¢äº†ä¸€ä¼šï¼Œå› ä¸ºæˆ‘å¹¶ä¸çŸ¥é“è¿™ä¸ªå¿«æ·é”®ï¼Œè€Œä¸”è¾“å…¥æ³•å¹¶ä¸æ˜¯æ™ºèƒ½æ¨¡å¼ï¼Œäºæ˜¯æˆ‘å°è¯•è¾“å…¥äº†ä¸€ä¸‹ï¼Œå¯å•ä¸ªæŒ‰é”®çš„æ•²æ€ä¹ˆä¹Ÿæ•²ä¸å‡ºæ¥è¿™ç§ç»„åˆç¬¦å·å•Šã€‚é‚£ä¹ˆåªèƒ½æ˜¯ç»„åˆæŒ‰é”®äº†ï¼Œæœ€ç»ˆè¢«æˆ‘è¯•å‡ºæ¥äº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;***</span><br><span class="line"> * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â” </span><br><span class="line"> * â”‚ option â”‚ + â”‚ &gt; . â”‚ &#x3D; â‰¥</span><br><span class="line"> * â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”˜ </span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;***</span><br><span class="line"> * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â” </span><br><span class="line"> * â”‚ option â”‚ + â”‚ ? &#x2F; â”‚ &#x3D; Ã·</span><br><span class="line"> * â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”˜ </span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure><p>ä»”ç»†çœ‹çœ‹è¿™ä¸‰ä¸ªé”®ç¡®å®åœ¨ä¸€å—å‘¢ï¼Œä¹Ÿéš¾æ€ªå®å®è¿™å°æ‰‹è¿˜èƒ½æŒ‰å‡ºç»„åˆå¿«æ·é”®æ¥ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;***</span><br><span class="line"> * â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬</span><br><span class="line"> * â”‚&gt; .â”‚? &#x2F;â”‚</span><br><span class="line"> * â”¼â”€â”€â”€â”´â”€â”€â”¬â”´</span><br><span class="line"> * â”‚optionâ”‚</span><br><span class="line"> * â””â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure><p>å¥½å§ï¼Œå®å®ä½ è®©çˆ¸çˆ¸å¥‡å¥‡æ€ªæ€ªçš„çŸ¥è¯†ç‚¹åˆå¢åŠ äº†å‘¢ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;***</span><br><span class="line"> * â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â” </span><br><span class="line"> * â”‚ shift â”‚ + â”‚ option â”‚ + â”‚  K  â”‚ &#x3D; ï£¿</span><br><span class="line"> * â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”˜ </span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å®å®åœ¨çˆ¸çˆ¸çš„ç”µè„‘ä¸Šéšä¾¿ä¹±æŒ‰ï¼Œæ„å¤–æ•™ä¼šäº†çˆ¸çˆ¸ä¸€ç§å¿«æ·è¾“å…¥æ–¹å¼ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="æ—¥å¸¸ç”Ÿæ´»" scheme="https://mojipanda.com/categories/%E6%97%A5%E5%B8%B8%E7%94%9F%E6%B4%BB/"/>
    
    
  </entry>
  
  <entry>
    <title>Dockerå®‰è£…MongoDB</title>
    <link href="https://mojipanda.com/blog/ac76/"/>
    <id>https://mojipanda.com/blog/ac76/</id>
    <published>2020-05-08T09:00:00.000Z</published>
    <updated>2020-05-10T16:02:55.960Z</updated>
    
    <content type="html"><![CDATA[<p>ä»‹ç»ä¸€ä¸‹å¦‚ä½•é€šè¿‡ docker å®‰è£… mongodb</p><a id="more"></a><p>MongoDB æ˜¯ä¸€ä¸ªåŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ã€‚è¿™é‡Œä»‹ç»ä¸€ä¸‹å¦‚ä½•é€šè¿‡ docker æ¥å®‰è£…ã€‚</p><h2 id="æŸ¥çœ‹å¯ç”¨ç‰ˆæœ¬"><a href="#æŸ¥çœ‹å¯ç”¨ç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹å¯ç”¨ç‰ˆæœ¬"></a>æŸ¥çœ‹å¯ç”¨ç‰ˆæœ¬</h2><p>æˆ‘ä»¬é¦–å…ˆé€šè¿‡ MongoDB é•œåƒåº“æ¥æŸ¥è¯¢æœ‰å“ªäº›å¯ç”¨ç‰ˆæœ¬ã€‚</p><div class="note link"><p><a href="https://hub.docker.com/_/mongo?tab=tags" target="_blank" rel="external nofollow noopener noreferrer">MongoDB é•œåƒåº“</a></p></div><h2 id="è·å–é•œåƒ"><a href="#è·å–é•œåƒ" class="headerlink" title="è·å–é•œåƒ"></a>è·å–é•œåƒ</h2><p>å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤è·å–æœ€æ–°ç‰ˆæœ¬çš„é•œåƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mongo:latest</span><br></pre></td></tr></table></figure><p>å¾€å¾€æˆ‘ä»¬éœ€è¦çŸ¥é“ç‰ˆæœ¬å·ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®šç‰ˆæœ¬å·çš„æ–¹å¼è·å–æŒ‡å®šé•œåƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mongo:4.2</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æœ¬åœ°é•œåƒ"><a href="#æŸ¥çœ‹æœ¬åœ°é•œåƒ" class="headerlink" title="æŸ¥çœ‹æœ¬åœ°é•œåƒ"></a>æŸ¥çœ‹æœ¬åœ°é•œåƒ</h2><p>ä¸‹é¢ä¸¤ç§æ‰§è¡Œå‘½ä»¤éƒ½å¯ä»¥æŸ¥çœ‹æœ¬åœ°è·å–çš„é•œåƒåˆ—è¡¨ï¼Œæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦è·å–æˆåŠŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker image ls</span><br></pre></td></tr></table></figure><h2 id="å¯åŠ¨å®¹å™¨"><a href="#å¯åŠ¨å®¹å™¨" class="headerlink" title="å¯åŠ¨å®¹å™¨"></a>å¯åŠ¨å®¹å™¨</h2><p>é•œåƒè·å–å®Œæ¯•å°±å¯ä»¥å¯åŠ¨å®¹å™¨äº†ï¼Œä¸‹é¢æ˜¯æˆ‘å®‰è£…çš„æ—¶å€™ä½¿ç”¨çš„æ‰§è¡Œå‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run -it -p 27017:27017 \</span><br><span class="line">    -v /mojipanda/docker/mongo/conf:/data/configdb \</span><br><span class="line">    -v /mojipanda/docker/mongo/data:/data/db \</span><br><span class="line">    --name mongo \</span><br><span class="line">    --restart=always \</span><br><span class="line">    -d mongo:4.2 \</span><br><span class="line">    --auth</span><br></pre></td></tr></table></figure><p>ä»‹ç»ä¸€ä¸‹ä¸»è¦æ‰§è¡Œå‚æ•°ï¼š</p><table><thead><tr><th align="left">æ‰§è¡Œå‚æ•°</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><code>-p 27017:27017</code></td><td align="left">æŒ‡å®šç«¯å£å·</td></tr><tr><td align="left"><code>-v</code></td><td align="left">æŒ‚è½½æœ¬åœ°ç›®å½•</td></tr><tr><td align="left"><code>--name mongo</code></td><td align="left">è®¾ç½®å®¹å™¨åç§°ä¸º mongo</td></tr><tr><td align="left"><code>--restart=always</code></td><td align="left">è®¾ç½®å®¹å™¨é‡å¯åè‡ªåŠ¨å¯åŠ¨</td></tr><tr><td align="left"><code>-d mongo:4.2</code></td><td align="left">æŒ‡å®šé•œåƒ</td></tr><tr><td align="left"><code>--auth</code></td><td align="left">è®¾ç½®è®¿é—®éœ€è¦æˆæƒ</td></tr></tbody></table><h2 id="å¯åŠ¨æˆåŠŸ"><a href="#å¯åŠ¨æˆåŠŸ" class="headerlink" title="å¯åŠ¨æˆåŠŸ"></a>å¯åŠ¨æˆåŠŸ</h2><p>é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹å®¹å™¨çš„è¿è¡Œä¿¡æ¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºç”¨æˆ·å’Œè®¾ç½®å¯†ç "><a href="#åˆ›å»ºç”¨æˆ·å’Œè®¾ç½®å¯†ç " class="headerlink" title="åˆ›å»ºç”¨æˆ·å’Œè®¾ç½®å¯†ç "></a>åˆ›å»ºç”¨æˆ·å’Œè®¾ç½®å¯†ç </h2><p>é¦–å…ˆæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤è¡Œè¿›å…¥åˆ°å®¹å™¨é‡Œå¹¶ä½¿ç”¨ MongoDB çš„ shell è¿æ¥åˆ° admin æ•°æ®åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it mongo mongo admin</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè¯­å¥åˆ›å»ºä¸€ä¸ªç”¨æˆ·åä¸º <code>root</code>ï¼Œå¯†ç ä¸º <code>123456</code> çš„ç”¨æˆ·ï¼Œå¹¶æˆæƒå¯ä»¥æ“ä½œæ‰€æœ‰æ•°æ®åº“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.createUser(&#123; user:&#39;root&#39;,pwd:&#39;123456&#39;,roles:[ &#123; role:&#39;userAdminAnyDatabase&#39;, db: &#39;admin&#39;&#125;]&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>åˆ°è¿™é‡Œæˆ‘ä»¬çš„ mongodb å°±å·²ç»æˆåŠŸå®‰è£…éƒ¨ç½²å¥½äº†ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»‹ç»ä¸€ä¸‹å¦‚ä½•é€šè¿‡ docker å®‰è£… mongodb&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å­¦ä¹ " scheme="https://mojipanda.com/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="docker" scheme="https://mojipanda.com/tags/docker/"/>
    
      <category term="mongodb" scheme="https://mojipanda.com/tags/mongodb/"/>
    
  </entry>
  
</feed>
